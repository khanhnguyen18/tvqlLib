<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href="scriptsql.xsl"?>
<root xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<database includeDrop="true">LibraryManagement</database>
<procedures>
		
		<procedure owner="dbo" name="tblReports_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblReports table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[idx],
					[dep_id],
					[rep_name],
					[description],
					[procedure],
					[dep_code],
					[status],
					[checked]
				FROM
					[dbo].[tblReports]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblReports_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblReports table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [idx] int 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([idx])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [idx]'
				SET @SQL = @SQL + ' FROM [dbo].[tblReports]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[idx], O.[dep_id], O.[rep_name], O.[description], O.[procedure], O.[dep_code], O.[status], O.[checked]
				FROM
				    [dbo].[tblReports] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[idx] = PageIndex.[idx]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblReports]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblReports_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblReports table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@DepId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@RepName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Procedure" type="nvarchar" direction="Input" size="40" precision="0" scale="0" param="(40)" nulldefault=""/>
				<parameter name="@DepCode" type="nvarchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@SafeNameChecked" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblReports]
					(
					[idx]
					,[dep_id]
					,[rep_name]
					,[description]
					,[procedure]
					,[dep_code]
					,[status]
					,[checked]
					)
				VALUES
					(
					@Idx
					,@DepId
					,@RepName
					,@Description
					,@Procedure
					,@DepCode
					,@Status
					,@SafeNameChecked
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblReports_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblReports table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@OriginalIdx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@DepId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@RepName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Procedure" type="nvarchar" direction="Input" size="40" precision="0" scale="0" param="(40)" nulldefault=""/>
				<parameter name="@DepCode" type="nvarchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@SafeNameChecked" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblReports]
				SET
					[idx] = @Idx
					,[dep_id] = @DepId
					,[rep_name] = @RepName
					,[description] = @Description
					,[procedure] = @Procedure
					,[dep_code] = @DepCode
					,[status] = @Status
					,[checked] = @SafeNameChecked
				WHERE
[idx] = @OriginalIdx 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblReports_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblReports table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblReports] WITH (ROWLOCK) 
				WHERE
					[idx] = @Idx
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblReports_GetByIdx" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblReports table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[idx],
					[dep_id],
					[rep_name],
					[description],
					[procedure],
					[dep_code],
					[status],
					[checked]
				FROM
					[dbo].[tblReports]
				WHERE
					[idx] = @Idx
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblReports_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblReports table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Idx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@DepId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@RepName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Procedure" type="nvarchar" direction="Input" size="40" precision="0" scale="0" param="(40)" nulldefault="null"/>
				<parameter name="@DepCode" type="nvarchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@SafeNameChecked" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [idx]
	, [dep_id]
	, [rep_name]
	, [description]
	, [procedure]
	, [dep_code]
	, [status]
	, [checked]
    FROM
	[dbo].[tblReports]
    WHERE 
	 ([idx] = @Idx OR @Idx IS NULL)
	AND ([dep_id] = @DepId OR @DepId IS NULL)
	AND ([rep_name] = @RepName OR @RepName IS NULL)
	AND ([description] = @Description OR @Description IS NULL)
	AND ([procedure] = @Procedure OR @Procedure IS NULL)
	AND ([dep_code] = @DepCode OR @DepCode IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
	AND ([checked] = @SafeNameChecked OR @SafeNameChecked IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [idx]
	, [dep_id]
	, [rep_name]
	, [description]
	, [procedure]
	, [dep_code]
	, [status]
	, [checked]
    FROM
	[dbo].[tblReports]
    WHERE 
	 ([idx] = @Idx AND @Idx is not null)
	OR ([dep_id] = @DepId AND @DepId is not null)
	OR ([rep_name] = @RepName AND @RepName is not null)
	OR ([description] = @Description AND @Description is not null)
	OR ([procedure] = @Procedure AND @Procedure is not null)
	OR ([dep_code] = @DepCode AND @DepCode is not null)
	OR ([status] = @Status AND @Status is not null)
	OR ([checked] = @SafeNameChecked AND @SafeNameChecked is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblReports_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblReports table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [idx] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [idx] )
				SELECT TOP {3} [idx]
				FROM [dbo].[tblReports] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[idx], O.[dep_id], O.[rep_name], O.[description], O.[procedure], O.[dep_code], O.[status], O.[checked]
				FROM
				    [dbo].[tblReports] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[idx] = PageIndex.[idx]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblReports] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblAccount_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblAccount table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[branch],
					[account_id],
					[abbreviat],
					[mof_gl],
					[cust_id],
					[name],
					[open_date],
					[prev_date],
					[last_date],
					[creamt],
					[debamt],
					[status]
				FROM
					[dbo].[tblAccount]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblAccount_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblAccount table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [branch] numeric(2, 0), [account_id] char(9)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([branch], [account_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [branch], [account_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblAccount]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[branch], O.[account_id], O.[abbreviat], O.[mof_gl], O.[cust_id], O.[name], O.[open_date], O.[prev_date], O.[last_date], O.[creamt], O.[debamt], O.[status]
				FROM
				    [dbo].[tblAccount] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[branch] = PageIndex.[branch]
					AND O.[account_id] = PageIndex.[account_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblAccount]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblAccount_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblAccount table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Branch" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@AccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Abbreviat" type="char" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@MofGl" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@CustId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@PrevDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Creamt" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Debamt" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblAccount]
					(
					[branch]
					,[account_id]
					,[abbreviat]
					,[mof_gl]
					,[cust_id]
					,[name]
					,[open_date]
					,[prev_date]
					,[last_date]
					,[creamt]
					,[debamt]
					,[status]
					)
				VALUES
					(
					@Branch
					,@AccountId
					,@Abbreviat
					,@MofGl
					,@CustId
					,@Name
					,@OpenDate
					,@PrevDate
					,@LastDate
					,@Creamt
					,@Debamt
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAccount_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblAccount table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Branch" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@OriginalBranch" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@AccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@OriginalAccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Abbreviat" type="char" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@MofGl" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@CustId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@PrevDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Creamt" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Debamt" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblAccount]
				SET
					[branch] = @Branch
					,[account_id] = @AccountId
					,[abbreviat] = @Abbreviat
					,[mof_gl] = @MofGl
					,[cust_id] = @CustId
					,[name] = @Name
					,[open_date] = @OpenDate
					,[prev_date] = @PrevDate
					,[last_date] = @LastDate
					,[creamt] = @Creamt
					,[debamt] = @Debamt
					,[status] = @Status
				WHERE
[branch] = @OriginalBranch 
AND [account_id] = @OriginalAccountId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAccount_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblAccount table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Branch" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@AccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblAccount] WITH (ROWLOCK) 
				WHERE
					[branch] = @Branch
					AND [account_id] = @AccountId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAccount_GetByBranchAccountId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblAccount table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Branch" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@AccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[branch],
					[account_id],
					[abbreviat],
					[mof_gl],
					[cust_id],
					[name],
					[open_date],
					[prev_date],
					[last_date],
					[creamt],
					[debamt],
					[status]
				FROM
					[dbo].[tblAccount]
				WHERE
					[branch] = @Branch
					AND [account_id] = @AccountId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblAccount_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblAccount table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Branch" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault="null"/>
				<parameter name="@AccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault="null"/>
				<parameter name="@Abbreviat" type="char" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault="null"/>
				<parameter name="@MofGl" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault="null"/>
				<parameter name="@CustId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@PrevDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Creamt" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Debamt" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [branch]
	, [account_id]
	, [abbreviat]
	, [mof_gl]
	, [cust_id]
	, [name]
	, [open_date]
	, [prev_date]
	, [last_date]
	, [creamt]
	, [debamt]
	, [status]
    FROM
	[dbo].[tblAccount]
    WHERE 
	 ([branch] = @Branch OR @Branch IS NULL)
	AND ([account_id] = @AccountId OR @AccountId IS NULL)
	AND ([abbreviat] = @Abbreviat OR @Abbreviat IS NULL)
	AND ([mof_gl] = @MofGl OR @MofGl IS NULL)
	AND ([cust_id] = @CustId OR @CustId IS NULL)
	AND ([name] = @Name OR @Name IS NULL)
	AND ([open_date] = @OpenDate OR @OpenDate IS NULL)
	AND ([prev_date] = @PrevDate OR @PrevDate IS NULL)
	AND ([last_date] = @LastDate OR @LastDate IS NULL)
	AND ([creamt] = @Creamt OR @Creamt IS NULL)
	AND ([debamt] = @Debamt OR @Debamt IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [branch]
	, [account_id]
	, [abbreviat]
	, [mof_gl]
	, [cust_id]
	, [name]
	, [open_date]
	, [prev_date]
	, [last_date]
	, [creamt]
	, [debamt]
	, [status]
    FROM
	[dbo].[tblAccount]
    WHERE 
	 ([branch] = @Branch AND @Branch is not null)
	OR ([account_id] = @AccountId AND @AccountId is not null)
	OR ([abbreviat] = @Abbreviat AND @Abbreviat is not null)
	OR ([mof_gl] = @MofGl AND @MofGl is not null)
	OR ([cust_id] = @CustId AND @CustId is not null)
	OR ([name] = @Name AND @Name is not null)
	OR ([open_date] = @OpenDate AND @OpenDate is not null)
	OR ([prev_date] = @PrevDate AND @PrevDate is not null)
	OR ([last_date] = @LastDate AND @LastDate is not null)
	OR ([creamt] = @Creamt AND @Creamt is not null)
	OR ([debamt] = @Debamt AND @Debamt is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblAccount_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblAccount table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [branch] numeric(2, 0), [account_id] char(9)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [branch], [account_id] )
				SELECT TOP {3} [branch], [account_id]
				FROM [dbo].[tblAccount] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[branch], O.[account_id], O.[abbreviat], O.[mof_gl], O.[cust_id], O.[name], O.[open_date], O.[prev_date], O.[last_date], O.[creamt], O.[debamt], O.[status]
				FROM
				    [dbo].[tblAccount] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[branch] = PageIndex.[branch]
				    AND O.[account_id] = PageIndex.[account_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblAccount] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblStaff_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblStaff table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID],
					[Name],
					[Depart],
					[Open_date],
					[SalaryLevel],
					[address],
					[phone],
					[PersonID],
					[PersonIDdate],
					[Location],
					[contactPerson],
					[remark],
					[labelsprn],
					[status]
				FROM
					[dbo].[tblStaff]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblStaff_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblStaff table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID] nchar(7)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [ID]'
				SET @SQL = @SQL + ' FROM [dbo].[tblStaff]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[ID], O.[Name], O.[Depart], O.[Open_date], O.[SalaryLevel], O.[address], O.[phone], O.[PersonID], O.[PersonIDdate], O.[Location], O.[contactPerson], O.[remark], O.[labelsprn], O.[status]
				FROM
				    [dbo].[tblStaff] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID] = PageIndex.[ID]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblStaff]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblStaff_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblStaff table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Depart" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@SalaryLevel" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Phone" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@PersonIddate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Location" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@ContactPerson" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Labelsprn" type="nchar" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@Status" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblStaff]
					(
					[ID]
					,[Name]
					,[Depart]
					,[Open_date]
					,[SalaryLevel]
					,[address]
					,[phone]
					,[PersonID]
					,[PersonIDdate]
					,[Location]
					,[contactPerson]
					,[remark]
					,[labelsprn]
					,[status]
					)
				VALUES
					(
					@Id
					,@Name
					,@Depart
					,@OpenDate
					,@SalaryLevel
					,@Address
					,@Phone
					,@PersonId
					,@PersonIddate
					,@Location
					,@ContactPerson
					,@Remark
					,@Labelsprn
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStaff_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblStaff table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
				<parameter name="@OriginalId" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Depart" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@SalaryLevel" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Phone" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@PersonIddate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Location" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@ContactPerson" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Labelsprn" type="nchar" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@Status" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblStaff]
				SET
					[ID] = @Id
					,[Name] = @Name
					,[Depart] = @Depart
					,[Open_date] = @OpenDate
					,[SalaryLevel] = @SalaryLevel
					,[address] = @Address
					,[phone] = @Phone
					,[PersonID] = @PersonId
					,[PersonIDdate] = @PersonIddate
					,[Location] = @Location
					,[contactPerson] = @ContactPerson
					,[remark] = @Remark
					,[labelsprn] = @Labelsprn
					,[status] = @Status
				WHERE
[ID] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStaff_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblStaff table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblStaff] WITH (ROWLOCK) 
				WHERE
					[ID] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStaff_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblStaff table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID],
					[Name],
					[Depart],
					[Open_date],
					[SalaryLevel],
					[address],
					[phone],
					[PersonID],
					[PersonIDdate],
					[Location],
					[contactPerson],
					[remark],
					[labelsprn],
					[status]
				FROM
					[dbo].[tblStaff]
				WHERE
					[ID] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblStaff_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblStaff table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault="null"/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Depart" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@SalaryLevel" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Phone" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault="null"/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault="null"/>
				<parameter name="@PersonIddate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Location" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@ContactPerson" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Labelsprn" type="nchar" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault="null"/>
				<parameter name="@Status" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID]
	, [Name]
	, [Depart]
	, [Open_date]
	, [SalaryLevel]
	, [address]
	, [phone]
	, [PersonID]
	, [PersonIDdate]
	, [Location]
	, [contactPerson]
	, [remark]
	, [labelsprn]
	, [status]
    FROM
	[dbo].[tblStaff]
    WHERE 
	 ([ID] = @Id OR @Id IS NULL)
	AND ([Name] = @Name OR @Name IS NULL)
	AND ([Depart] = @Depart OR @Depart IS NULL)
	AND ([Open_date] = @OpenDate OR @OpenDate IS NULL)
	AND ([SalaryLevel] = @SalaryLevel OR @SalaryLevel IS NULL)
	AND ([address] = @Address OR @Address IS NULL)
	AND ([phone] = @Phone OR @Phone IS NULL)
	AND ([PersonID] = @PersonId OR @PersonId IS NULL)
	AND ([PersonIDdate] = @PersonIddate OR @PersonIddate IS NULL)
	AND ([Location] = @Location OR @Location IS NULL)
	AND ([contactPerson] = @ContactPerson OR @ContactPerson IS NULL)
	AND ([remark] = @Remark OR @Remark IS NULL)
	AND ([labelsprn] = @Labelsprn OR @Labelsprn IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID]
	, [Name]
	, [Depart]
	, [Open_date]
	, [SalaryLevel]
	, [address]
	, [phone]
	, [PersonID]
	, [PersonIDdate]
	, [Location]
	, [contactPerson]
	, [remark]
	, [labelsprn]
	, [status]
    FROM
	[dbo].[tblStaff]
    WHERE 
	 ([ID] = @Id AND @Id is not null)
	OR ([Name] = @Name AND @Name is not null)
	OR ([Depart] = @Depart AND @Depart is not null)
	OR ([Open_date] = @OpenDate AND @OpenDate is not null)
	OR ([SalaryLevel] = @SalaryLevel AND @SalaryLevel is not null)
	OR ([address] = @Address AND @Address is not null)
	OR ([phone] = @Phone AND @Phone is not null)
	OR ([PersonID] = @PersonId AND @PersonId is not null)
	OR ([PersonIDdate] = @PersonIddate AND @PersonIddate is not null)
	OR ([Location] = @Location AND @Location is not null)
	OR ([contactPerson] = @ContactPerson AND @ContactPerson is not null)
	OR ([remark] = @Remark AND @Remark is not null)
	OR ([labelsprn] = @Labelsprn AND @Labelsprn is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblStaff_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblStaff table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID] nchar(7)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID] )
				SELECT TOP {3} [ID]
				FROM [dbo].[tblStaff] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID], O.[Name], O.[Depart], O.[Open_date], O.[SalaryLevel], O.[address], O.[phone], O.[PersonID], O.[PersonIDdate], O.[Location], O.[contactPerson], O.[remark], O.[labelsprn], O.[status]
				FROM
				    [dbo].[tblStaff] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID] = PageIndex.[ID]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblStaff] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblPrice_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblPrice table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[goods_id],
					[rtprice],
					[averimppr],
					[lastimppr],
					[wsprice],
					[prefprice],
					[discpercent],
					[disc_frdate],
					[disc_todate]
				FROM
					[dbo].[tblPrice]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblPrice_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblPrice table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [goods_id] char(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblPrice]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[goods_id], O.[rtprice], O.[averimppr], O.[lastimppr], O.[wsprice], O.[prefprice], O.[discpercent], O.[disc_frdate], O.[disc_todate]
				FROM
				    [dbo].[tblPrice] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblPrice]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblPrice_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblPrice table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Rtprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Averimppr" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Lastimppr" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Wsprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Prefprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Discpercent" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@DiscFrdate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@DiscTodate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblPrice]
					(
					[goods_id]
					,[rtprice]
					,[averimppr]
					,[lastimppr]
					,[wsprice]
					,[prefprice]
					,[discpercent]
					,[disc_frdate]
					,[disc_todate]
					)
				VALUES
					(
					@GoodsId
					,@Rtprice
					,@Averimppr
					,@Lastimppr
					,@Wsprice
					,@Prefprice
					,@Discpercent
					,@DiscFrdate
					,@DiscTodate
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblPrice_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblPrice table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Rtprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Averimppr" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Lastimppr" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Wsprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Prefprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Discpercent" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@DiscFrdate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@DiscTodate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblPrice]
				SET
					[goods_id] = @GoodsId
					,[rtprice] = @Rtprice
					,[averimppr] = @Averimppr
					,[lastimppr] = @Lastimppr
					,[wsprice] = @Wsprice
					,[prefprice] = @Prefprice
					,[discpercent] = @Discpercent
					,[disc_frdate] = @DiscFrdate
					,[disc_todate] = @DiscTodate
				WHERE
[goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblPrice_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblPrice table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblPrice] WITH (ROWLOCK) 
				WHERE
					[goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblPrice_GetByGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblPrice table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[goods_id],
					[rtprice],
					[averimppr],
					[lastimppr],
					[wsprice],
					[prefprice],
					[discpercent],
					[disc_frdate],
					[disc_todate]
				FROM
					[dbo].[tblPrice]
				WHERE
					[goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblPrice_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblPrice table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Rtprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Averimppr" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Lastimppr" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Wsprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Prefprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Discpercent" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@DiscFrdate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@DiscTodate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [goods_id]
	, [rtprice]
	, [averimppr]
	, [lastimppr]
	, [wsprice]
	, [prefprice]
	, [discpercent]
	, [disc_frdate]
	, [disc_todate]
    FROM
	[dbo].[tblPrice]
    WHERE 
	 ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([rtprice] = @Rtprice OR @Rtprice IS NULL)
	AND ([averimppr] = @Averimppr OR @Averimppr IS NULL)
	AND ([lastimppr] = @Lastimppr OR @Lastimppr IS NULL)
	AND ([wsprice] = @Wsprice OR @Wsprice IS NULL)
	AND ([prefprice] = @Prefprice OR @Prefprice IS NULL)
	AND ([discpercent] = @Discpercent OR @Discpercent IS NULL)
	AND ([disc_frdate] = @DiscFrdate OR @DiscFrdate IS NULL)
	AND ([disc_todate] = @DiscTodate OR @DiscTodate IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [goods_id]
	, [rtprice]
	, [averimppr]
	, [lastimppr]
	, [wsprice]
	, [prefprice]
	, [discpercent]
	, [disc_frdate]
	, [disc_todate]
    FROM
	[dbo].[tblPrice]
    WHERE 
	 ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([rtprice] = @Rtprice AND @Rtprice is not null)
	OR ([averimppr] = @Averimppr AND @Averimppr is not null)
	OR ([lastimppr] = @Lastimppr AND @Lastimppr is not null)
	OR ([wsprice] = @Wsprice AND @Wsprice is not null)
	OR ([prefprice] = @Prefprice AND @Prefprice is not null)
	OR ([discpercent] = @Discpercent AND @Discpercent is not null)
	OR ([disc_frdate] = @DiscFrdate AND @DiscFrdate is not null)
	OR ([disc_todate] = @DiscTodate AND @DiscTodate is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblPrice_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblPrice table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [goods_id] char(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [goods_id] )
				SELECT TOP {3} [goods_id]
				FROM [dbo].[tblPrice] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[goods_id], O.[rtprice], O.[averimppr], O.[lastimppr], O.[wsprice], O.[prefprice], O.[discpercent], O.[disc_frdate], O.[disc_todate]
				FROM
				    [dbo].[tblPrice] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblPrice] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblStations_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblStations table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[name],
					[Description],
					[login],
					[user_id],
					[pos_id],
					[prnport],
					[ipaddress],
					[message],
					[serialkey],
					[Status]
				FROM
					[dbo].[tblStations]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblStations_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblStations table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] int 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblStations]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[name], O.[Description], O.[login], O.[user_id], O.[pos_id], O.[prnport], O.[ipaddress], O.[message], O.[serialkey], O.[Status]
				FROM
				    [dbo].[tblStations] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblStations]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblStations_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblStations table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Login" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@UserId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@PosId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@Prnport" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ipaddress" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Message" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Serialkey" type="nchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblStations]
					(
					[id]
					,[name]
					,[Description]
					,[login]
					,[user_id]
					,[pos_id]
					,[prnport]
					,[ipaddress]
					,[message]
					,[serialkey]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Name
					,@Description
					,@Login
					,@UserId
					,@PosId
					,@Prnport
					,@Ipaddress
					,@Message
					,@Serialkey
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStations_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblStations table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@OriginalId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Login" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@UserId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@PosId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@Prnport" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Ipaddress" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Message" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Serialkey" type="nchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblStations]
				SET
					[id] = @Id
					,[name] = @Name
					,[Description] = @Description
					,[login] = @Login
					,[user_id] = @UserId
					,[pos_id] = @PosId
					,[prnport] = @Prnport
					,[ipaddress] = @Ipaddress
					,[message] = @Message
					,[serialkey] = @Serialkey
					,[Status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStations_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblStations table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblStations] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStations_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblStations table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[name],
					[Description],
					[login],
					[user_id],
					[pos_id],
					[prnport],
					[ipaddress],
					[message],
					[serialkey],
					[Status]
				FROM
					[dbo].[tblStations]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblStations_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblStations table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Login" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@UserId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@PosId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@Prnport" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Ipaddress" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Message" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Serialkey" type="nchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [name]
	, [Description]
	, [login]
	, [user_id]
	, [pos_id]
	, [prnport]
	, [ipaddress]
	, [message]
	, [serialkey]
	, [Status]
    FROM
	[dbo].[tblStations]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([name] = @Name OR @Name IS NULL)
	AND ([Description] = @Description OR @Description IS NULL)
	AND ([login] = @Login OR @Login IS NULL)
	AND ([user_id] = @UserId OR @UserId IS NULL)
	AND ([pos_id] = @PosId OR @PosId IS NULL)
	AND ([prnport] = @Prnport OR @Prnport IS NULL)
	AND ([ipaddress] = @Ipaddress OR @Ipaddress IS NULL)
	AND ([message] = @Message OR @Message IS NULL)
	AND ([serialkey] = @Serialkey OR @Serialkey IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [name]
	, [Description]
	, [login]
	, [user_id]
	, [pos_id]
	, [prnport]
	, [ipaddress]
	, [message]
	, [serialkey]
	, [Status]
    FROM
	[dbo].[tblStations]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([name] = @Name AND @Name is not null)
	OR ([Description] = @Description AND @Description is not null)
	OR ([login] = @Login AND @Login is not null)
	OR ([user_id] = @UserId AND @UserId is not null)
	OR ([pos_id] = @PosId AND @PosId is not null)
	OR ([prnport] = @Prnport AND @Prnport is not null)
	OR ([ipaddress] = @Ipaddress AND @Ipaddress is not null)
	OR ([message] = @Message AND @Message is not null)
	OR ([serialkey] = @Serialkey AND @Serialkey is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblStations_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblStations table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblStations] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[name], O.[Description], O.[login], O.[user_id], O.[pos_id], O.[prnport], O.[ipaddress], O.[message], O.[serialkey], O.[Status]
				FROM
				    [dbo].[tblStations] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblStations] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblMof_sys_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblMof_sys table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[mof_gl],
					[mof_name],
					[mof_nameb],
					[ac_type],
					[negative],
					[master],
					[glevel],
					[last_level],
					[other_equi]
				FROM
					[dbo].[tblMof_sys]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblMof_sys_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblMof_sys table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblMof_sys]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[mof_gl], O.[mof_name], O.[mof_nameb], O.[ac_type], O.[negative], O.[master], O.[glevel], O.[last_level], O.[other_equi]
				FROM
				    [dbo].[tblMof_sys] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblMof_sys]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblMof_sys_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblMof_sys table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Output" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@MofGl" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@MofName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MofNameb" type="varchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@AcType" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Negative" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Master" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Glevel" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@LastLevel" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@OtherEqui" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblMof_sys]
					(
					[mof_gl]
					,[mof_name]
					,[mof_nameb]
					,[ac_type]
					,[negative]
					,[master]
					,[glevel]
					,[last_level]
					,[other_equi]
					)
				VALUES
					(
					@MofGl
					,@MofName
					,@MofNameb
					,@AcType
					,@Negative
					,@Master
					,@Glevel
					,@LastLevel
					,@OtherEqui
					)
				-- Get the identity value
				SET @Id = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMof_sys_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblMof_sys table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@MofGl" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@MofName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@MofNameb" type="varchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@AcType" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Negative" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Master" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Glevel" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@LastLevel" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@OtherEqui" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblMof_sys]
				SET
					[mof_gl] = @MofGl
					,[mof_name] = @MofName
					,[mof_nameb] = @MofNameb
					,[ac_type] = @AcType
					,[negative] = @Negative
					,[master] = @Master
					,[glevel] = @Glevel
					,[last_level] = @LastLevel
					,[other_equi] = @OtherEqui
				WHERE
[id] = @Id 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMof_sys_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblMof_sys table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblMof_sys] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMof_sys_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblMof_sys table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[mof_gl],
					[mof_name],
					[mof_nameb],
					[ac_type],
					[negative],
					[master],
					[glevel],
					[last_level],
					[other_equi]
				FROM
					[dbo].[tblMof_sys]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblMof_sys_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblMof_sys table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@MofGl" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault="null"/>
				<parameter name="@MofName" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@MofNameb" type="varchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@AcType" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
				<parameter name="@Negative" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
				<parameter name="@Master" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Glevel" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@LastLevel" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@OtherEqui" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [mof_gl]
	, [mof_name]
	, [mof_nameb]
	, [ac_type]
	, [negative]
	, [master]
	, [glevel]
	, [last_level]
	, [other_equi]
    FROM
	[dbo].[tblMof_sys]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([mof_gl] = @MofGl OR @MofGl IS NULL)
	AND ([mof_name] = @MofName OR @MofName IS NULL)
	AND ([mof_nameb] = @MofNameb OR @MofNameb IS NULL)
	AND ([ac_type] = @AcType OR @AcType IS NULL)
	AND ([negative] = @Negative OR @Negative IS NULL)
	AND ([master] = @Master OR @Master IS NULL)
	AND ([glevel] = @Glevel OR @Glevel IS NULL)
	AND ([last_level] = @LastLevel OR @LastLevel IS NULL)
	AND ([other_equi] = @OtherEqui OR @OtherEqui IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [mof_gl]
	, [mof_name]
	, [mof_nameb]
	, [ac_type]
	, [negative]
	, [master]
	, [glevel]
	, [last_level]
	, [other_equi]
    FROM
	[dbo].[tblMof_sys]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([mof_gl] = @MofGl AND @MofGl is not null)
	OR ([mof_name] = @MofName AND @MofName is not null)
	OR ([mof_nameb] = @MofNameb AND @MofNameb is not null)
	OR ([ac_type] = @AcType AND @AcType is not null)
	OR ([negative] = @Negative AND @Negative is not null)
	OR ([master] = @Master AND @Master is not null)
	OR ([glevel] = @Glevel AND @Glevel is not null)
	OR ([last_level] = @LastLevel AND @LastLevel is not null)
	OR ([other_equi] = @OtherEqui AND @OtherEqui is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblMof_sys_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblMof_sys table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblMof_sys] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[mof_gl], O.[mof_name], O.[mof_nameb], O.[ac_type], O.[negative], O.[master], O.[glevel], O.[last_level], O.[other_equi]
				FROM
				    [dbo].[tblMof_sys] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblMof_sys] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblPaymentOrder_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblPaymentOrder table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[trans_num],
					[payer],
					[payer_acc],
					[payer_bank],
					[payer_branch],
					[benef],
					[benef_acc],
					[benef_bank],
					[benef_branch],
					[amount]
				FROM
					[dbo].[tblPaymentOrder]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblPaymentOrder_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblPaymentOrder table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_num] nchar(12)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([trans_num])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [trans_num]'
				SET @SQL = @SQL + ' FROM [dbo].[tblPaymentOrder]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[trans_num], O.[payer], O.[payer_acc], O.[payer_bank], O.[payer_branch], O.[benef], O.[benef_acc], O.[benef_bank], O.[benef_branch], O.[amount]
				FROM
				    [dbo].[tblPaymentOrder] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[trans_num] = PageIndex.[trans_num]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblPaymentOrder]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblPaymentOrder_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblPaymentOrder table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Payer" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@PayerAcc" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@PayerBank" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@PayerBranch" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Benef" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@BenefAcc" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@BenefBank" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@BenefBranch" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Amount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblPaymentOrder]
					(
					[trans_num]
					,[payer]
					,[payer_acc]
					,[payer_bank]
					,[payer_branch]
					,[benef]
					,[benef_acc]
					,[benef_bank]
					,[benef_branch]
					,[amount]
					)
				VALUES
					(
					@TransNum
					,@Payer
					,@PayerAcc
					,@PayerBank
					,@PayerBranch
					,@Benef
					,@BenefAcc
					,@BenefBank
					,@BenefBranch
					,@Amount
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblPaymentOrder_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblPaymentOrder table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@OriginalTransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Payer" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@PayerAcc" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@PayerBank" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@PayerBranch" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@Benef" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@BenefAcc" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@BenefBank" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@BenefBranch" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Amount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblPaymentOrder]
				SET
					[trans_num] = @TransNum
					,[payer] = @Payer
					,[payer_acc] = @PayerAcc
					,[payer_bank] = @PayerBank
					,[payer_branch] = @PayerBranch
					,[benef] = @Benef
					,[benef_acc] = @BenefAcc
					,[benef_bank] = @BenefBank
					,[benef_branch] = @BenefBranch
					,[amount] = @Amount
				WHERE
[trans_num] = @OriginalTransNum 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblPaymentOrder_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblPaymentOrder table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblPaymentOrder] WITH (ROWLOCK) 
				WHERE
					[trans_num] = @TransNum
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblPaymentOrder_GetByTransNum" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblPaymentOrder table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[trans_num],
					[payer],
					[payer_acc],
					[payer_bank],
					[payer_branch],
					[benef],
					[benef_acc],
					[benef_bank],
					[benef_branch],
					[amount]
				FROM
					[dbo].[tblPaymentOrder]
				WHERE
					[trans_num] = @TransNum
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblPaymentOrder_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblPaymentOrder table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault="null"/>
				<parameter name="@Payer" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@PayerAcc" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@PayerBank" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@PayerBranch" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@Benef" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@BenefAcc" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@BenefBank" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@BenefBranch" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Amount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [trans_num]
	, [payer]
	, [payer_acc]
	, [payer_bank]
	, [payer_branch]
	, [benef]
	, [benef_acc]
	, [benef_bank]
	, [benef_branch]
	, [amount]
    FROM
	[dbo].[tblPaymentOrder]
    WHERE 
	 ([trans_num] = @TransNum OR @TransNum IS NULL)
	AND ([payer] = @Payer OR @Payer IS NULL)
	AND ([payer_acc] = @PayerAcc OR @PayerAcc IS NULL)
	AND ([payer_bank] = @PayerBank OR @PayerBank IS NULL)
	AND ([payer_branch] = @PayerBranch OR @PayerBranch IS NULL)
	AND ([benef] = @Benef OR @Benef IS NULL)
	AND ([benef_acc] = @BenefAcc OR @BenefAcc IS NULL)
	AND ([benef_bank] = @BenefBank OR @BenefBank IS NULL)
	AND ([benef_branch] = @BenefBranch OR @BenefBranch IS NULL)
	AND ([amount] = @Amount OR @Amount IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [trans_num]
	, [payer]
	, [payer_acc]
	, [payer_bank]
	, [payer_branch]
	, [benef]
	, [benef_acc]
	, [benef_bank]
	, [benef_branch]
	, [amount]
    FROM
	[dbo].[tblPaymentOrder]
    WHERE 
	 ([trans_num] = @TransNum AND @TransNum is not null)
	OR ([payer] = @Payer AND @Payer is not null)
	OR ([payer_acc] = @PayerAcc AND @PayerAcc is not null)
	OR ([payer_bank] = @PayerBank AND @PayerBank is not null)
	OR ([payer_branch] = @PayerBranch AND @PayerBranch is not null)
	OR ([benef] = @Benef AND @Benef is not null)
	OR ([benef_acc] = @BenefAcc AND @BenefAcc is not null)
	OR ([benef_bank] = @BenefBank AND @BenefBank is not null)
	OR ([benef_branch] = @BenefBranch AND @BenefBranch is not null)
	OR ([amount] = @Amount AND @Amount is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblPaymentOrder_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblPaymentOrder table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_num] nchar(12)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [trans_num] )
				SELECT TOP {3} [trans_num]
				FROM [dbo].[tblPaymentOrder] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[trans_num], O.[payer], O.[payer_acc], O.[payer_bank], O.[payer_branch], O.[benef], O.[benef_acc], O.[benef_bank], O.[benef_branch], O.[amount]
				FROM
				    [dbo].[tblPaymentOrder] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[trans_num] = PageIndex.[trans_num]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblPaymentOrder] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblNon_Plu_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblNon_Plu table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[nplu_code],
					[goods_id]
				FROM
					[dbo].[tblNon_Plu]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblNon_Plu_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblNon_Plu table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [nplu_code] char(4) , [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([nplu_code], [goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [nplu_code], [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblNon_Plu]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[nplu_code], O.[goods_id]
				FROM
				    [dbo].[tblNon_Plu] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[nplu_code] = PageIndex.[nplu_code]
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblNon_Plu]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblNon_Plu_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblNon_Plu table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@NpluCode" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblNon_Plu]
					(
					[nplu_code]
					,[goods_id]
					)
				VALUES
					(
					@NpluCode
					,@GoodsId
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblNon_Plu_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblNon_Plu table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@NpluCode" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@OriginalNpluCode" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblNon_Plu]
				SET
					[nplu_code] = @NpluCode
					,[goods_id] = @GoodsId
				WHERE
[nplu_code] = @OriginalNpluCode 
AND [goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblNon_Plu_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblNon_Plu table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@NpluCode" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblNon_Plu] WITH (ROWLOCK) 
				WHERE
					[nplu_code] = @NpluCode
					AND [goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblNon_Plu_GetByNpluCodeGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblNon_Plu table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@NpluCode" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[nplu_code],
					[goods_id]
				FROM
					[dbo].[tblNon_Plu]
				WHERE
					[nplu_code] = @NpluCode
					AND [goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblNon_Plu_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblNon_Plu table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@NpluCode" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault="null"/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [nplu_code]
	, [goods_id]
    FROM
	[dbo].[tblNon_Plu]
    WHERE 
	 ([nplu_code] = @NpluCode OR @NpluCode IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [nplu_code]
	, [goods_id]
    FROM
	[dbo].[tblNon_Plu]
    WHERE 
	 ([nplu_code] = @NpluCode AND @NpluCode is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblNon_Plu_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblNon_Plu table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [nplu_code] char(4) , [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [nplu_code], [goods_id] )
				SELECT TOP {3} [nplu_code], [goods_id]
				FROM [dbo].[tblNon_Plu] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[nplu_code], O.[goods_id]
				FROM
				    [dbo].[tblNon_Plu] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[nplu_code] = PageIndex.[nplu_code]
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblNon_Plu] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblStockInfo_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblStockInfo table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[goods_id],
					[open_date],
					[last_date],
					[minus_date],
					[stktake_dt],
					[stktake_tm],
					[begin_qty],
					[exp_qty],
					[imp_qty],
					[begin_amt],
					[exp_amt],
					[imp_amt],
					[averimppr]
				FROM
					[dbo].[tblStockInfo]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblStockInfo_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblStockInfo table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] char(5) , [goods_id] char(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id], [goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id], [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblStockInfo]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[goods_id], O.[open_date], O.[last_date], O.[minus_date], O.[stktake_dt], O.[stktake_tm], O.[begin_qty], O.[exp_qty], O.[imp_qty], O.[begin_amt], O.[exp_amt], O.[imp_amt], O.[averimppr]
				FROM
				    [dbo].[tblStockInfo] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblStockInfo]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblStockInfo_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblStockInfo table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@MinusDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@StktakeDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@StktakeTm" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@BeginQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ExpQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ImpQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@BeginAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ExpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ImpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Averimppr" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblStockInfo]
					(
					[id]
					,[goods_id]
					,[open_date]
					,[last_date]
					,[minus_date]
					,[stktake_dt]
					,[stktake_tm]
					,[begin_qty]
					,[exp_qty]
					,[imp_qty]
					,[begin_amt]
					,[exp_amt]
					,[imp_amt]
					,[averimppr]
					)
				VALUES
					(
					@Id
					,@GoodsId
					,@OpenDate
					,@LastDate
					,@MinusDate
					,@StktakeDt
					,@StktakeTm
					,@BeginQty
					,@ExpQty
					,@ImpQty
					,@BeginAmt
					,@ExpAmt
					,@ImpAmt
					,@Averimppr
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStockInfo_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblStockInfo table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@OriginalId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@MinusDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@StktakeDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@StktakeTm" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@BeginQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ExpQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ImpQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@BeginAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ExpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ImpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Averimppr" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblStockInfo]
				SET
					[id] = @Id
					,[goods_id] = @GoodsId
					,[open_date] = @OpenDate
					,[last_date] = @LastDate
					,[minus_date] = @MinusDate
					,[stktake_dt] = @StktakeDt
					,[stktake_tm] = @StktakeTm
					,[begin_qty] = @BeginQty
					,[exp_qty] = @ExpQty
					,[imp_qty] = @ImpQty
					,[begin_amt] = @BeginAmt
					,[exp_amt] = @ExpAmt
					,[imp_amt] = @ImpAmt
					,[averimppr] = @Averimppr
				WHERE
[id] = @OriginalId 
AND [goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStockInfo_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblStockInfo table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblStockInfo] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					AND [goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStockInfo_GetByIdGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblStockInfo table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[goods_id],
					[open_date],
					[last_date],
					[minus_date],
					[stktake_dt],
					[stktake_tm],
					[begin_qty],
					[exp_qty],
					[imp_qty],
					[begin_amt],
					[exp_amt],
					[imp_amt],
					[averimppr]
				FROM
					[dbo].[tblStockInfo]
				WHERE
					[id] = @Id
					AND [goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblStockInfo_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblStockInfo table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@MinusDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@StktakeDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@StktakeTm" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault="null"/>
				<parameter name="@BeginQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@ExpQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@ImpQty" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@BeginAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@ExpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@ImpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Averimppr" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [goods_id]
	, [open_date]
	, [last_date]
	, [minus_date]
	, [stktake_dt]
	, [stktake_tm]
	, [begin_qty]
	, [exp_qty]
	, [imp_qty]
	, [begin_amt]
	, [exp_amt]
	, [imp_amt]
	, [averimppr]
    FROM
	[dbo].[tblStockInfo]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([open_date] = @OpenDate OR @OpenDate IS NULL)
	AND ([last_date] = @LastDate OR @LastDate IS NULL)
	AND ([minus_date] = @MinusDate OR @MinusDate IS NULL)
	AND ([stktake_dt] = @StktakeDt OR @StktakeDt IS NULL)
	AND ([stktake_tm] = @StktakeTm OR @StktakeTm IS NULL)
	AND ([begin_qty] = @BeginQty OR @BeginQty IS NULL)
	AND ([exp_qty] = @ExpQty OR @ExpQty IS NULL)
	AND ([imp_qty] = @ImpQty OR @ImpQty IS NULL)
	AND ([begin_amt] = @BeginAmt OR @BeginAmt IS NULL)
	AND ([exp_amt] = @ExpAmt OR @ExpAmt IS NULL)
	AND ([imp_amt] = @ImpAmt OR @ImpAmt IS NULL)
	AND ([averimppr] = @Averimppr OR @Averimppr IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [goods_id]
	, [open_date]
	, [last_date]
	, [minus_date]
	, [stktake_dt]
	, [stktake_tm]
	, [begin_qty]
	, [exp_qty]
	, [imp_qty]
	, [begin_amt]
	, [exp_amt]
	, [imp_amt]
	, [averimppr]
    FROM
	[dbo].[tblStockInfo]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([open_date] = @OpenDate AND @OpenDate is not null)
	OR ([last_date] = @LastDate AND @LastDate is not null)
	OR ([minus_date] = @MinusDate AND @MinusDate is not null)
	OR ([stktake_dt] = @StktakeDt AND @StktakeDt is not null)
	OR ([stktake_tm] = @StktakeTm AND @StktakeTm is not null)
	OR ([begin_qty] = @BeginQty AND @BeginQty is not null)
	OR ([exp_qty] = @ExpQty AND @ExpQty is not null)
	OR ([imp_qty] = @ImpQty AND @ImpQty is not null)
	OR ([begin_amt] = @BeginAmt AND @BeginAmt is not null)
	OR ([exp_amt] = @ExpAmt AND @ExpAmt is not null)
	OR ([imp_amt] = @ImpAmt AND @ImpAmt is not null)
	OR ([averimppr] = @Averimppr AND @Averimppr is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblStockInfo_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblStockInfo table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] char(5) , [goods_id] char(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id], [goods_id] )
				SELECT TOP {3} [id], [goods_id]
				FROM [dbo].[tblStockInfo] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[goods_id], O.[open_date], O.[last_date], O.[minus_date], O.[stktake_dt], O.[stktake_tm], O.[begin_qty], O.[exp_qty], O.[imp_qty], O.[begin_amt], O.[exp_amt], O.[imp_amt], O.[averimppr]
				FROM
				    [dbo].[tblStockInfo] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblStockInfo] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblOn_order_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblOn_order table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[tran_date],
					[tran_time],
					[deliver_dt],
					[trans_num],
					[trans_code],
					[exp_id],
					[goods_id],
					[qty],
					[unit_symb],
					[price],
					[merc_type],
					[user_id],
					[remark],
					[recnum],
					[status],
					[end_qty]
				FROM
					[dbo].[tblOn_order]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblOn_order_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblOn_order table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_num] char(12) , [goods_id] char(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([trans_num], [goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [trans_num], [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblOn_order]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[tran_date], O.[tran_time], O.[deliver_dt], O.[trans_num], O.[trans_code], O.[exp_id], O.[goods_id], O.[qty], O.[unit_symb], O.[price], O.[merc_type], O.[user_id], O.[remark], O.[recnum], O.[status], O.[end_qty]
				FROM
				    [dbo].[tblOn_order] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[trans_num] = PageIndex.[trans_num]
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblOn_order]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblOn_order_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblOn_order table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TranTime" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@DeliverDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@ExpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Qty" type="decimal" direction="Input" size="9" precision="12" scale="3" param="(12, 3)" nulldefault=""/>
				<parameter name="@UnitSymb" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Price" type="decimal" direction="Input" size="9" precision="15" scale="2" param="(15, 2)" nulldefault=""/>
				<parameter name="@MercType" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@UserId" type="decimal" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Recnum" type="decimal" direction="Input" size="5" precision="6" scale="0" param="(6, 0)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@EndQty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblOn_order]
					(
					[tran_date]
					,[tran_time]
					,[deliver_dt]
					,[trans_num]
					,[trans_code]
					,[exp_id]
					,[goods_id]
					,[qty]
					,[unit_symb]
					,[price]
					,[merc_type]
					,[user_id]
					,[remark]
					,[recnum]
					,[status]
					,[end_qty]
					)
				VALUES
					(
					@TranDate
					,@TranTime
					,@DeliverDt
					,@TransNum
					,@TransCode
					,@ExpId
					,@GoodsId
					,@Qty
					,@UnitSymb
					,@Price
					,@MercType
					,@UserId
					,@Remark
					,@Recnum
					,@Status
					,@EndQty
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblOn_order_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblOn_order table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TranTime" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@DeliverDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@OriginalTransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@ExpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Qty" type="decimal" direction="Input" size="9" precision="12" scale="3" param="(12, 3)" nulldefault=""/>
				<parameter name="@UnitSymb" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Price" type="decimal" direction="Input" size="9" precision="15" scale="2" param="(15, 2)" nulldefault=""/>
				<parameter name="@MercType" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@UserId" type="decimal" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Recnum" type="decimal" direction="Input" size="5" precision="6" scale="0" param="(6, 0)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@EndQty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblOn_order]
				SET
					[tran_date] = @TranDate
					,[tran_time] = @TranTime
					,[deliver_dt] = @DeliverDt
					,[trans_num] = @TransNum
					,[trans_code] = @TransCode
					,[exp_id] = @ExpId
					,[goods_id] = @GoodsId
					,[qty] = @Qty
					,[unit_symb] = @UnitSymb
					,[price] = @Price
					,[merc_type] = @MercType
					,[user_id] = @UserId
					,[remark] = @Remark
					,[recnum] = @Recnum
					,[status] = @Status
					,[end_qty] = @EndQty
				WHERE
[trans_num] = @OriginalTransNum 
AND [goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblOn_order_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblOn_order table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblOn_order] WITH (ROWLOCK) 
				WHERE
					[trans_num] = @TransNum
					AND [goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblOn_order_GetByTransNumGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblOn_order table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[tran_date],
					[tran_time],
					[deliver_dt],
					[trans_num],
					[trans_code],
					[exp_id],
					[goods_id],
					[qty],
					[unit_symb],
					[price],
					[merc_type],
					[user_id],
					[remark],
					[recnum],
					[status],
					[end_qty]
				FROM
					[dbo].[tblOn_order]
				WHERE
					[trans_num] = @TransNum
					AND [goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblOn_order_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblOn_order table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@TranTime" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@DeliverDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault="null"/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@ExpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Qty" type="decimal" direction="Input" size="9" precision="12" scale="3" param="(12, 3)" nulldefault="null"/>
				<parameter name="@UnitSymb" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@Price" type="decimal" direction="Input" size="9" precision="15" scale="2" param="(15, 2)" nulldefault="null"/>
				<parameter name="@MercType" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@UserId" type="decimal" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault="null"/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Recnum" type="decimal" direction="Input" size="5" precision="6" scale="0" param="(6, 0)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@EndQty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [tran_date]
	, [tran_time]
	, [deliver_dt]
	, [trans_num]
	, [trans_code]
	, [exp_id]
	, [goods_id]
	, [qty]
	, [unit_symb]
	, [price]
	, [merc_type]
	, [user_id]
	, [remark]
	, [recnum]
	, [status]
	, [end_qty]
    FROM
	[dbo].[tblOn_order]
    WHERE 
	 ([tran_date] = @TranDate OR @TranDate IS NULL)
	AND ([tran_time] = @TranTime OR @TranTime IS NULL)
	AND ([deliver_dt] = @DeliverDt OR @DeliverDt IS NULL)
	AND ([trans_num] = @TransNum OR @TransNum IS NULL)
	AND ([trans_code] = @TransCode OR @TransCode IS NULL)
	AND ([exp_id] = @ExpId OR @ExpId IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([qty] = @Qty OR @Qty IS NULL)
	AND ([unit_symb] = @UnitSymb OR @UnitSymb IS NULL)
	AND ([price] = @Price OR @Price IS NULL)
	AND ([merc_type] = @MercType OR @MercType IS NULL)
	AND ([user_id] = @UserId OR @UserId IS NULL)
	AND ([remark] = @Remark OR @Remark IS NULL)
	AND ([recnum] = @Recnum OR @Recnum IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
	AND ([end_qty] = @EndQty OR @EndQty IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [tran_date]
	, [tran_time]
	, [deliver_dt]
	, [trans_num]
	, [trans_code]
	, [exp_id]
	, [goods_id]
	, [qty]
	, [unit_symb]
	, [price]
	, [merc_type]
	, [user_id]
	, [remark]
	, [recnum]
	, [status]
	, [end_qty]
    FROM
	[dbo].[tblOn_order]
    WHERE 
	 ([tran_date] = @TranDate AND @TranDate is not null)
	OR ([tran_time] = @TranTime AND @TranTime is not null)
	OR ([deliver_dt] = @DeliverDt AND @DeliverDt is not null)
	OR ([trans_num] = @TransNum AND @TransNum is not null)
	OR ([trans_code] = @TransCode AND @TransCode is not null)
	OR ([exp_id] = @ExpId AND @ExpId is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([qty] = @Qty AND @Qty is not null)
	OR ([unit_symb] = @UnitSymb AND @UnitSymb is not null)
	OR ([price] = @Price AND @Price is not null)
	OR ([merc_type] = @MercType AND @MercType is not null)
	OR ([user_id] = @UserId AND @UserId is not null)
	OR ([remark] = @Remark AND @Remark is not null)
	OR ([recnum] = @Recnum AND @Recnum is not null)
	OR ([status] = @Status AND @Status is not null)
	OR ([end_qty] = @EndQty AND @EndQty is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblOn_order_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblOn_order table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_num] char(12) , [goods_id] char(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [trans_num], [goods_id] )
				SELECT TOP {3} [trans_num], [goods_id]
				FROM [dbo].[tblOn_order] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[tran_date], O.[tran_time], O.[deliver_dt], O.[trans_num], O.[trans_code], O.[exp_id], O.[goods_id], O.[qty], O.[unit_symb], O.[price], O.[merc_type], O.[user_id], O.[remark], O.[recnum], O.[status], O.[end_qty]
				FROM
				    [dbo].[tblOn_order] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[trans_num] = PageIndex.[trans_num]
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblOn_order] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblUnit_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblUnit table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[Description],
					[Status]
				FROM
					[dbo].[tblUnit]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblUnit_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblUnit table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] char(3)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblUnit]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[Description], O.[Status]
				FROM
				    [dbo].[tblUnit] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblUnit]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblUnit_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblUnit table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblUnit]
					(
					[id]
					,[Description]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Description
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUnit_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblUnit table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@OriginalId" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblUnit]
				SET
					[id] = @Id
					,[Description] = @Description
					,[Status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUnit_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblUnit table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblUnit] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUnit_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblUnit table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[Description],
					[Status]
				FROM
					[dbo].[tblUnit]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblUnit_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblUnit table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [Description]
	, [Status]
    FROM
	[dbo].[tblUnit]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([Description] = @Description OR @Description IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [Description]
	, [Status]
    FROM
	[dbo].[tblUnit]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([Description] = @Description AND @Description is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblUnit_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblUnit table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] char(3)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblUnit] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[Description], O.[Status]
				FROM
				    [dbo].[tblUnit] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblUnit] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblStore_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblStore table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[Type],
					[Name],
					[fullname],
					[address],
					[phone],
					[fax],
					[bankname],
					[bank_br],
					[accnum],
					[Vatnum],
					[contactps],
					[remark],
					[open_date],
					[Status]
				FROM
					[dbo].[tblStore]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblStore_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblStore table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] char(5)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblStore]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[Type], O.[Name], O.[fullname], O.[address], O.[phone], O.[fax], O.[bankname], O.[bank_br], O.[accnum], O.[Vatnum], O.[contactps], O.[remark], O.[open_date], O.[Status]
				FROM
				    [dbo].[tblStore] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblStore]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblStore_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblStore table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@Type" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@Phone" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Fax" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Bankname" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@BankBr" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@Accnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Vatnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Contactps" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblStore]
					(
					[id]
					,[Type]
					,[Name]
					,[fullname]
					,[address]
					,[phone]
					,[fax]
					,[bankname]
					,[bank_br]
					,[accnum]
					,[Vatnum]
					,[contactps]
					,[remark]
					,[open_date]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Type
					,@Name
					,@Fullname
					,@Address
					,@Phone
					,@Fax
					,@Bankname
					,@BankBr
					,@Accnum
					,@Vatnum
					,@Contactps
					,@Remark
					,@OpenDate
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStore_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblStore table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@OriginalId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@Type" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@Phone" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Fax" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Bankname" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@BankBr" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@Accnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Vatnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Contactps" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblStore]
				SET
					[id] = @Id
					,[Type] = @Type
					,[Name] = @Name
					,[fullname] = @Fullname
					,[address] = @Address
					,[phone] = @Phone
					,[fax] = @Fax
					,[bankname] = @Bankname
					,[bank_br] = @BankBr
					,[accnum] = @Accnum
					,[Vatnum] = @Vatnum
					,[contactps] = @Contactps
					,[remark] = @Remark
					,[open_date] = @OpenDate
					,[Status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStore_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblStore table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblStore] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblStore_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblStore table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[Type],
					[Name],
					[fullname],
					[address],
					[phone],
					[fax],
					[bankname],
					[bank_br],
					[accnum],
					[Vatnum],
					[contactps],
					[remark],
					[open_date],
					[Status]
				FROM
					[dbo].[tblStore]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblStore_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblStore table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@Type" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@Phone" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Fax" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Bankname" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault="null"/>
				<parameter name="@BankBr" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault="null"/>
				<parameter name="@Accnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Vatnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Contactps" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [Type]
	, [Name]
	, [fullname]
	, [address]
	, [phone]
	, [fax]
	, [bankname]
	, [bank_br]
	, [accnum]
	, [Vatnum]
	, [contactps]
	, [remark]
	, [open_date]
	, [Status]
    FROM
	[dbo].[tblStore]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([Type] = @Type OR @Type IS NULL)
	AND ([Name] = @Name OR @Name IS NULL)
	AND ([fullname] = @Fullname OR @Fullname IS NULL)
	AND ([address] = @Address OR @Address IS NULL)
	AND ([phone] = @Phone OR @Phone IS NULL)
	AND ([fax] = @Fax OR @Fax IS NULL)
	AND ([bankname] = @Bankname OR @Bankname IS NULL)
	AND ([bank_br] = @BankBr OR @BankBr IS NULL)
	AND ([accnum] = @Accnum OR @Accnum IS NULL)
	AND ([Vatnum] = @Vatnum OR @Vatnum IS NULL)
	AND ([contactps] = @Contactps OR @Contactps IS NULL)
	AND ([remark] = @Remark OR @Remark IS NULL)
	AND ([open_date] = @OpenDate OR @OpenDate IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [Type]
	, [Name]
	, [fullname]
	, [address]
	, [phone]
	, [fax]
	, [bankname]
	, [bank_br]
	, [accnum]
	, [Vatnum]
	, [contactps]
	, [remark]
	, [open_date]
	, [Status]
    FROM
	[dbo].[tblStore]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([Type] = @Type AND @Type is not null)
	OR ([Name] = @Name AND @Name is not null)
	OR ([fullname] = @Fullname AND @Fullname is not null)
	OR ([address] = @Address AND @Address is not null)
	OR ([phone] = @Phone AND @Phone is not null)
	OR ([fax] = @Fax AND @Fax is not null)
	OR ([bankname] = @Bankname AND @Bankname is not null)
	OR ([bank_br] = @BankBr AND @BankBr is not null)
	OR ([accnum] = @Accnum AND @Accnum is not null)
	OR ([Vatnum] = @Vatnum AND @Vatnum is not null)
	OR ([contactps] = @Contactps AND @Contactps is not null)
	OR ([remark] = @Remark AND @Remark is not null)
	OR ([open_date] = @OpenDate AND @OpenDate is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblStore_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblStore table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] char(5)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblStore] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[Type], O.[Name], O.[fullname], O.[address], O.[phone], O.[fax], O.[bankname], O.[bank_br], O.[accnum], O.[Vatnum], O.[contactps], O.[remark], O.[open_date], O.[Status]
				FROM
				    [dbo].[tblStore] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblStore] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblUser_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblUser table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID],
					[name],
					[full_name],
					[passw],
					[mright],
					[rpright],
					[groups],
					[Status]
				FROM
					[dbo].[tblUser]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblUser_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblUser table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID] int 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [ID]'
				SET @SQL = @SQL + ' FROM [dbo].[tblUser]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[ID], O.[name], O.[full_name], O.[passw], O.[mright], O.[rpright], O.[groups], O.[Status]
				FROM
				    [dbo].[tblUser] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID] = PageIndex.[ID]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblUser]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblUser_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblUser table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Passw" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Mright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Rpright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Groups" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblUser]
					(
					[ID]
					,[name]
					,[full_name]
					,[passw]
					,[mright]
					,[rpright]
					,[groups]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Name
					,@FullName
					,@Passw
					,@Mright
					,@Rpright
					,@Groups
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUser_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblUser table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@OriginalId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Passw" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Mright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Rpright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Groups" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblUser]
				SET
					[ID] = @Id
					,[name] = @Name
					,[full_name] = @FullName
					,[passw] = @Passw
					,[mright] = @Mright
					,[rpright] = @Rpright
					,[groups] = @Groups
					,[Status] = @Status
				WHERE
[ID] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUser_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblUser table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblUser] WITH (ROWLOCK) 
				WHERE
					[ID] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUser_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblUser table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID],
					[name],
					[full_name],
					[passw],
					[mright],
					[rpright],
					[groups],
					[Status]
				FROM
					[dbo].[tblUser]
				WHERE
					[ID] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblUser_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblUser table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Passw" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Mright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Rpright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Groups" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID]
	, [name]
	, [full_name]
	, [passw]
	, [mright]
	, [rpright]
	, [groups]
	, [Status]
    FROM
	[dbo].[tblUser]
    WHERE 
	 ([ID] = @Id OR @Id IS NULL)
	AND ([name] = @Name OR @Name IS NULL)
	AND ([full_name] = @FullName OR @FullName IS NULL)
	AND ([passw] = @Passw OR @Passw IS NULL)
	AND ([mright] = @Mright OR @Mright IS NULL)
	AND ([rpright] = @Rpright OR @Rpright IS NULL)
	AND ([groups] = @Groups OR @Groups IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID]
	, [name]
	, [full_name]
	, [passw]
	, [mright]
	, [rpright]
	, [groups]
	, [Status]
    FROM
	[dbo].[tblUser]
    WHERE 
	 ([ID] = @Id AND @Id is not null)
	OR ([name] = @Name AND @Name is not null)
	OR ([full_name] = @FullName AND @FullName is not null)
	OR ([passw] = @Passw AND @Passw is not null)
	OR ([mright] = @Mright AND @Mright is not null)
	OR ([rpright] = @Rpright AND @Rpright is not null)
	OR ([groups] = @Groups AND @Groups is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblUser_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblUser table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID] )
				SELECT TOP {3} [ID]
				FROM [dbo].[tblUser] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID], O.[name], O.[full_name], O.[passw], O.[mright], O.[rpright], O.[groups], O.[Status]
				FROM
				    [dbo].[tblUser] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID] = PageIndex.[ID]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblUser] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblTrcode_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblTrcode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[trCode],
					[trName],
					[description],
					[trDepart],
					[frmCaption],
					[voucherFile],
					[voucherFile1],
					[voucherFile2],
					[Status]
				FROM
					[dbo].[tblTrcode]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblTrcode_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblTrcode table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trCode] char(2)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([trCode])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [trCode]'
				SET @SQL = @SQL + ' FROM [dbo].[tblTrcode]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[trCode], O.[trName], O.[description], O.[trDepart], O.[frmCaption], O.[voucherFile], O.[voucherFile1], O.[voucherFile2], O.[Status]
				FROM
				    [dbo].[tblTrcode] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[trCode] = PageIndex.[trCode]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblTrcode]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblTrcode_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblTrcode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TrCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@TrName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@TrDepart" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@FrmCaption" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@VoucherFile" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@VoucherFile1" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@VoucherFile2" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblTrcode]
					(
					[trCode]
					,[trName]
					,[description]
					,[trDepart]
					,[frmCaption]
					,[voucherFile]
					,[voucherFile1]
					,[voucherFile2]
					,[Status]
					)
				VALUES
					(
					@TrCode
					,@TrName
					,@Description
					,@TrDepart
					,@FrmCaption
					,@VoucherFile
					,@VoucherFile1
					,@VoucherFile2
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTrcode_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblTrcode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TrCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@OriginalTrCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@TrName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@TrDepart" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@FrmCaption" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@VoucherFile" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@VoucherFile1" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@VoucherFile2" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblTrcode]
				SET
					[trCode] = @TrCode
					,[trName] = @TrName
					,[description] = @Description
					,[trDepart] = @TrDepart
					,[frmCaption] = @FrmCaption
					,[voucherFile] = @VoucherFile
					,[voucherFile1] = @VoucherFile1
					,[voucherFile2] = @VoucherFile2
					,[Status] = @Status
				WHERE
[trCode] = @OriginalTrCode 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTrcode_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblTrcode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TrCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblTrcode] WITH (ROWLOCK) 
				WHERE
					[trCode] = @TrCode
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTrcode_GetByTrCode" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblTrcode table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TrCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[trCode],
					[trName],
					[description],
					[trDepart],
					[frmCaption],
					[voucherFile],
					[voucherFile1],
					[voucherFile2],
					[Status]
				FROM
					[dbo].[tblTrcode]
				WHERE
					[trCode] = @TrCode
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblTrcode_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblTrcode table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@TrCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@TrName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@TrDepart" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
				<parameter name="@FrmCaption" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@VoucherFile" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@VoucherFile1" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@VoucherFile2" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [trCode]
	, [trName]
	, [description]
	, [trDepart]
	, [frmCaption]
	, [voucherFile]
	, [voucherFile1]
	, [voucherFile2]
	, [Status]
    FROM
	[dbo].[tblTrcode]
    WHERE 
	 ([trCode] = @TrCode OR @TrCode IS NULL)
	AND ([trName] = @TrName OR @TrName IS NULL)
	AND ([description] = @Description OR @Description IS NULL)
	AND ([trDepart] = @TrDepart OR @TrDepart IS NULL)
	AND ([frmCaption] = @FrmCaption OR @FrmCaption IS NULL)
	AND ([voucherFile] = @VoucherFile OR @VoucherFile IS NULL)
	AND ([voucherFile1] = @VoucherFile1 OR @VoucherFile1 IS NULL)
	AND ([voucherFile2] = @VoucherFile2 OR @VoucherFile2 IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [trCode]
	, [trName]
	, [description]
	, [trDepart]
	, [frmCaption]
	, [voucherFile]
	, [voucherFile1]
	, [voucherFile2]
	, [Status]
    FROM
	[dbo].[tblTrcode]
    WHERE 
	 ([trCode] = @TrCode AND @TrCode is not null)
	OR ([trName] = @TrName AND @TrName is not null)
	OR ([description] = @Description AND @Description is not null)
	OR ([trDepart] = @TrDepart AND @TrDepart is not null)
	OR ([frmCaption] = @FrmCaption AND @FrmCaption is not null)
	OR ([voucherFile] = @VoucherFile AND @VoucherFile is not null)
	OR ([voucherFile1] = @VoucherFile1 AND @VoucherFile1 is not null)
	OR ([voucherFile2] = @VoucherFile2 AND @VoucherFile2 is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblTrcode_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblTrcode table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trCode] char(2)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [trCode] )
				SELECT TOP {3} [trCode]
				FROM [dbo].[tblTrcode] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[trCode], O.[trName], O.[description], O.[trDepart], O.[frmCaption], O.[voucherFile], O.[voucherFile1], O.[voucherFile2], O.[Status]
				FROM
				    [dbo].[tblTrcode] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[trCode] = PageIndex.[trCode]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblTrcode] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblUserGrp_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblUserGrp table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[ID],
					[Name],
					[Descript],
					[MenuPer],
					[rpright],
					[Status]
				FROM
					[dbo].[tblUserGrp]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblUserGrp_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblUserGrp table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID] char(2)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([ID])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [ID]'
				SET @SQL = @SQL + ' FROM [dbo].[tblUserGrp]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[ID], O.[Name], O.[Descript], O.[MenuPer], O.[rpright], O.[Status]
				FROM
				    [dbo].[tblUserGrp] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[ID] = PageIndex.[ID]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblUserGrp]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblUserGrp_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblUserGrp table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Descript" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@MenuPer" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Rpright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblUserGrp]
					(
					[ID]
					,[Name]
					,[Descript]
					,[MenuPer]
					,[rpright]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Name
					,@Descript
					,@MenuPer
					,@Rpright
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUserGrp_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblUserGrp table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@OriginalId" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Descript" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@MenuPer" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Rpright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblUserGrp]
				SET
					[ID] = @Id
					,[Name] = @Name
					,[Descript] = @Descript
					,[MenuPer] = @MenuPer
					,[rpright] = @Rpright
					,[Status] = @Status
				WHERE
[ID] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUserGrp_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblUserGrp table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblUserGrp] WITH (ROWLOCK) 
				WHERE
					[ID] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUserGrp_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblUserGrp table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[ID],
					[Name],
					[Descript],
					[MenuPer],
					[rpright],
					[Status]
				FROM
					[dbo].[tblUserGrp]
				WHERE
					[ID] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblUserGrp_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblUserGrp table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Descript" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@MenuPer" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Rpright" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [ID]
	, [Name]
	, [Descript]
	, [MenuPer]
	, [rpright]
	, [Status]
    FROM
	[dbo].[tblUserGrp]
    WHERE 
	 ([ID] = @Id OR @Id IS NULL)
	AND ([Name] = @Name OR @Name IS NULL)
	AND ([Descript] = @Descript OR @Descript IS NULL)
	AND ([MenuPer] = @MenuPer OR @MenuPer IS NULL)
	AND ([rpright] = @Rpright OR @Rpright IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [ID]
	, [Name]
	, [Descript]
	, [MenuPer]
	, [rpright]
	, [Status]
    FROM
	[dbo].[tblUserGrp]
    WHERE 
	 ([ID] = @Id AND @Id is not null)
	OR ([Name] = @Name AND @Name is not null)
	OR ([Descript] = @Descript AND @Descript is not null)
	OR ([MenuPer] = @MenuPer AND @MenuPer is not null)
	OR ([rpright] = @Rpright AND @Rpright is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblUserGrp_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblUserGrp table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [ID] char(2)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [ID] )
				SELECT TOP {3} [ID]
				FROM [dbo].[tblUserGrp] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[ID], O.[Name], O.[Descript], O.[MenuPer], O.[rpright], O.[Status]
				FROM
				    [dbo].[tblUserGrp] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[ID] = PageIndex.[ID]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblUserGrp] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblSysvar_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblSysvar table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[m_code],
					[m_type],
					[m_value],
					[description],
					[Type]
				FROM
					[dbo].[tblSysvar]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblSysvar_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblSysvar table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [m_code] nvarchar(50)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([m_code])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [m_code]'
				SET @SQL = @SQL + ' FROM [dbo].[tblSysvar]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[m_code], O.[m_type], O.[m_value], O.[description], O.[Type]
				FROM
				    [dbo].[tblSysvar] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[m_code] = PageIndex.[m_code]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblSysvar]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblSysvar_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblSysvar table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@MCode" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MType" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@MValue" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Type" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblSysvar]
					(
					[m_code]
					,[m_type]
					,[m_value]
					,[description]
					,[Type]
					)
				VALUES
					(
					@MCode
					,@MType
					,@MValue
					,@Description
					,@Type
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblSysvar_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblSysvar table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@MCode" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@OriginalMCode" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@MType" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@MValue" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Type" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblSysvar]
				SET
					[m_code] = @MCode
					,[m_type] = @MType
					,[m_value] = @MValue
					,[description] = @Description
					,[Type] = @Type
				WHERE
[m_code] = @OriginalMCode 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblSysvar_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblSysvar table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@MCode" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblSysvar] WITH (ROWLOCK) 
				WHERE
					[m_code] = @MCode
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblSysvar_GetByMCode" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblSysvar table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@MCode" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[m_code],
					[m_type],
					[m_value],
					[description],
					[Type]
				FROM
					[dbo].[tblSysvar]
				WHERE
					[m_code] = @MCode
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblSysvar_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblSysvar table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@MCode" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@MType" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
				<parameter name="@MValue" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Type" type="char" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [m_code]
	, [m_type]
	, [m_value]
	, [description]
	, [Type]
    FROM
	[dbo].[tblSysvar]
    WHERE 
	 ([m_code] = @MCode OR @MCode IS NULL)
	AND ([m_type] = @MType OR @MType IS NULL)
	AND ([m_value] = @MValue OR @MValue IS NULL)
	AND ([description] = @Description OR @Description IS NULL)
	AND ([Type] = @Type OR @Type IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [m_code]
	, [m_type]
	, [m_value]
	, [description]
	, [Type]
    FROM
	[dbo].[tblSysvar]
    WHERE 
	 ([m_code] = @MCode AND @MCode is not null)
	OR ([m_type] = @MType AND @MType is not null)
	OR ([m_value] = @MValue AND @MValue is not null)
	OR ([description] = @Description AND @Description is not null)
	OR ([Type] = @Type AND @Type is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblSysvar_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblSysvar table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [m_code] nvarchar(50)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [m_code] )
				SELECT TOP {3} [m_code]
				FROM [dbo].[tblSysvar] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[m_code], O.[m_type], O.[m_value], O.[description], O.[Type]
				FROM
				    [dbo].[tblSysvar] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[m_code] = PageIndex.[m_code]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblSysvar] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblTransValue_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblTransValue table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[trans_num],
					[amount],
					[frcustomer],
					[forex]
				FROM
					[dbo].[tblTransValue]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblTransValue_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblTransValue table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_num] nchar(12)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([trans_num])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [trans_num]'
				SET @SQL = @SQL + ' FROM [dbo].[tblTransValue]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[trans_num], O.[amount], O.[frcustomer], O.[forex]
				FROM
				    [dbo].[tblTransValue] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[trans_num] = PageIndex.[trans_num]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblTransValue]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblTransValue_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblTransValue table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Amount" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Frcustomer" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Forex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblTransValue]
					(
					[trans_num]
					,[amount]
					,[frcustomer]
					,[forex]
					)
				VALUES
					(
					@TransNum
					,@Amount
					,@Frcustomer
					,@Forex
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransValue_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblTransValue table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@OriginalTransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Amount" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Frcustomer" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Forex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblTransValue]
				SET
					[trans_num] = @TransNum
					,[amount] = @Amount
					,[frcustomer] = @Frcustomer
					,[forex] = @Forex
				WHERE
[trans_num] = @OriginalTransNum 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransValue_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblTransValue table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblTransValue] WITH (ROWLOCK) 
				WHERE
					[trans_num] = @TransNum
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransValue_GetByTransNum" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblTransValue table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[trans_num],
					[amount],
					[frcustomer],
					[forex]
				FROM
					[dbo].[tblTransValue]
				WHERE
					[trans_num] = @TransNum
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblTransValue_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblTransValue table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault="null"/>
				<parameter name="@Amount" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@Frcustomer" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@Forex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [trans_num]
	, [amount]
	, [frcustomer]
	, [forex]
    FROM
	[dbo].[tblTransValue]
    WHERE 
	 ([trans_num] = @TransNum OR @TransNum IS NULL)
	AND ([amount] = @Amount OR @Amount IS NULL)
	AND ([frcustomer] = @Frcustomer OR @Frcustomer IS NULL)
	AND ([forex] = @Forex OR @Forex IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [trans_num]
	, [amount]
	, [frcustomer]
	, [forex]
    FROM
	[dbo].[tblTransValue]
    WHERE 
	 ([trans_num] = @TransNum AND @TransNum is not null)
	OR ([amount] = @Amount AND @Amount is not null)
	OR ([frcustomer] = @Frcustomer AND @Frcustomer is not null)
	OR ([forex] = @Forex AND @Forex is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblTransValue_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblTransValue table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_num] nchar(12)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [trans_num] )
				SELECT TOP {3} [trans_num]
				FROM [dbo].[tblTransValue] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[trans_num], O.[amount], O.[frcustomer], O.[forex]
				FROM
				    [dbo].[tblTransValue] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[trans_num] = PageIndex.[trans_num]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblTransValue] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblTransaction_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblTransaction table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[idx],
					[tran_date],
					[tran_time],
					[trans_num],
					[trans_code],
					[voucher],
					[invoice],
					[post],
					[exp_id],
					[imp_id],
					[goods_id],
					[kit_qty],
					[kit_id],
					[qty],
					[unit_symb],
					[amount],
					[discount],
					[carddisc_amt],
					[vat_amt],
					[surplus],
					[commis_amt],
					[forex_cys],
					[forex_rate],
					[expiry_dt],
					[user_id],
					[station],
					[cs_id],
					[custax_id],
					[ref],
					[remark],
					[updated],
					[merc_type],
					[tax_code],
					[vat_incl],
					[discpervat],
					[disc_incl],
					[copies],
					[recnum],
					[card_id],
					[Shift],
					[Status]
				FROM
					[dbo].[tblTransaction]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblTransaction_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblTransaction table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [idx] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([idx])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [idx]'
				SET @SQL = @SQL + ' FROM [dbo].[tblTransaction]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[idx], O.[tran_date], O.[tran_time], O.[trans_num], O.[trans_code], O.[voucher], O.[invoice], O.[post], O.[exp_id], O.[imp_id], O.[goods_id], O.[kit_qty], O.[kit_id], O.[qty], O.[unit_symb], O.[amount], O.[discount], O.[carddisc_amt], O.[vat_amt], O.[surplus], O.[commis_amt], O.[forex_cys], O.[forex_rate], O.[expiry_dt], O.[user_id], O.[station], O.[cs_id], O.[custax_id], O.[ref], O.[remark], O.[updated], O.[merc_type], O.[tax_code], O.[vat_incl], O.[discpervat], O.[disc_incl], O.[copies], O.[recnum], O.[card_id], O.[Shift], O.[Status]
				FROM
				    [dbo].[tblTransaction] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[idx] = PageIndex.[idx]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblTransaction]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblTransaction_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblTransaction table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="numeric" direction="Output" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TranTime" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Voucher" type="varchar" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@Invoice" type="char" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@Post" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@ExpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@ImpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@KitQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@KitId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Qty" type="decimal" direction="Input" size="5" precision="8" scale="2" param="(8, 2)" nulldefault=""/>
				<parameter name="@UnitSymb" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Amount" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Discount" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@CarddiscAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@VatAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Surplus" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@CommisAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ForexCys" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@ForexRate" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ExpiryDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@UserId" type="decimal" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault=""/>
				<parameter name="@Station" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@CsId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@CustaxId" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@SafeNameRef" type="varchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Updated" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@MercType" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@TaxCode" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@VatIncl" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Discpervat" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@DiscIncl" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Copies" type="decimal" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@Recnum" type="decimal" direction="Input" size="5" precision="6" scale="0" param="(6, 0)" nulldefault=""/>
				<parameter name="@CardId" type="nchar" direction="Input" size="16" precision="0" scale="0" param="(16)" nulldefault=""/>
				<parameter name="@Shift" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblTransaction]
					(
					[tran_date]
					,[tran_time]
					,[trans_num]
					,[trans_code]
					,[voucher]
					,[invoice]
					,[post]
					,[exp_id]
					,[imp_id]
					,[goods_id]
					,[kit_qty]
					,[kit_id]
					,[qty]
					,[unit_symb]
					,[amount]
					,[discount]
					,[carddisc_amt]
					,[vat_amt]
					,[surplus]
					,[commis_amt]
					,[forex_cys]
					,[forex_rate]
					,[expiry_dt]
					,[user_id]
					,[station]
					,[cs_id]
					,[custax_id]
					,[ref]
					,[remark]
					,[updated]
					,[merc_type]
					,[tax_code]
					,[vat_incl]
					,[discpervat]
					,[disc_incl]
					,[copies]
					,[recnum]
					,[card_id]
					,[Shift]
					,[Status]
					)
				VALUES
					(
					@TranDate
					,@TranTime
					,@TransNum
					,@TransCode
					,@Voucher
					,@Invoice
					,@Post
					,@ExpId
					,@ImpId
					,@GoodsId
					,@KitQty
					,@KitId
					,@Qty
					,@UnitSymb
					,@Amount
					,@Discount
					,@CarddiscAmt
					,@VatAmt
					,@Surplus
					,@CommisAmt
					,@ForexCys
					,@ForexRate
					,@ExpiryDt
					,@UserId
					,@Station
					,@CsId
					,@CustaxId
					,@SafeNameRef
					,@Remark
					,@Updated
					,@MercType
					,@TaxCode
					,@VatIncl
					,@Discpervat
					,@DiscIncl
					,@Copies
					,@Recnum
					,@CardId
					,@Shift
					,@Status
					)
				-- Get the identity value
				SET @Idx = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransaction_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblTransaction table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TranTime" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Voucher" type="varchar" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault=""/>
				<parameter name="@Invoice" type="char" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@Post" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@ExpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@ImpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@KitQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@KitId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Qty" type="decimal" direction="Input" size="5" precision="8" scale="2" param="(8, 2)" nulldefault=""/>
				<parameter name="@UnitSymb" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Amount" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Discount" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@CarddiscAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@VatAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Surplus" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@CommisAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ForexCys" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@ForexRate" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ExpiryDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@UserId" type="decimal" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault=""/>
				<parameter name="@Station" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@CsId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@CustaxId" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@SafeNameRef" type="varchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Updated" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@MercType" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@TaxCode" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@VatIncl" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Discpervat" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@DiscIncl" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Copies" type="decimal" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@Recnum" type="decimal" direction="Input" size="5" precision="6" scale="0" param="(6, 0)" nulldefault=""/>
				<parameter name="@CardId" type="nchar" direction="Input" size="16" precision="0" scale="0" param="(16)" nulldefault=""/>
				<parameter name="@Shift" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblTransaction]
				SET
					[tran_date] = @TranDate
					,[tran_time] = @TranTime
					,[trans_num] = @TransNum
					,[trans_code] = @TransCode
					,[voucher] = @Voucher
					,[invoice] = @Invoice
					,[post] = @Post
					,[exp_id] = @ExpId
					,[imp_id] = @ImpId
					,[goods_id] = @GoodsId
					,[kit_qty] = @KitQty
					,[kit_id] = @KitId
					,[qty] = @Qty
					,[unit_symb] = @UnitSymb
					,[amount] = @Amount
					,[discount] = @Discount
					,[carddisc_amt] = @CarddiscAmt
					,[vat_amt] = @VatAmt
					,[surplus] = @Surplus
					,[commis_amt] = @CommisAmt
					,[forex_cys] = @ForexCys
					,[forex_rate] = @ForexRate
					,[expiry_dt] = @ExpiryDt
					,[user_id] = @UserId
					,[station] = @Station
					,[cs_id] = @CsId
					,[custax_id] = @CustaxId
					,[ref] = @SafeNameRef
					,[remark] = @Remark
					,[updated] = @Updated
					,[merc_type] = @MercType
					,[tax_code] = @TaxCode
					,[vat_incl] = @VatIncl
					,[discpervat] = @Discpervat
					,[disc_incl] = @DiscIncl
					,[copies] = @Copies
					,[recnum] = @Recnum
					,[card_id] = @CardId
					,[Shift] = @Shift
					,[Status] = @Status
				WHERE
[idx] = @Idx 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransaction_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblTransaction table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblTransaction] WITH (ROWLOCK) 
				WHERE
					[idx] = @Idx
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransaction_GetByIdx" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblTransaction table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[idx],
					[tran_date],
					[tran_time],
					[trans_num],
					[trans_code],
					[voucher],
					[invoice],
					[post],
					[exp_id],
					[imp_id],
					[goods_id],
					[kit_qty],
					[kit_id],
					[qty],
					[unit_symb],
					[amount],
					[discount],
					[carddisc_amt],
					[vat_amt],
					[surplus],
					[commis_amt],
					[forex_cys],
					[forex_rate],
					[expiry_dt],
					[user_id],
					[station],
					[cs_id],
					[custax_id],
					[ref],
					[remark],
					[updated],
					[merc_type],
					[tax_code],
					[vat_incl],
					[discpervat],
					[disc_incl],
					[copies],
					[recnum],
					[card_id],
					[Shift],
					[Status]
				FROM
					[dbo].[tblTransaction]
				WHERE
					[idx] = @Idx
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblTransaction_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblTransaction table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Idx" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@TranTime" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault="null"/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@Voucher" type="varchar" direction="Input" size="15" precision="0" scale="0" param="(15)" nulldefault="null"/>
				<parameter name="@Invoice" type="char" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault="null"/>
				<parameter name="@Post" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@ExpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@ImpId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@KitQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@KitId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Qty" type="decimal" direction="Input" size="5" precision="8" scale="2" param="(8, 2)" nulldefault="null"/>
				<parameter name="@UnitSymb" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@Amount" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Discount" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@CarddiscAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@VatAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Surplus" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@CommisAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@ForexCys" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@ForexRate" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@ExpiryDt" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@UserId" type="decimal" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault="null"/>
				<parameter name="@Station" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@CsId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@CustaxId" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault="null"/>
				<parameter name="@SafeNameRef" type="varchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault="null"/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Updated" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@MercType" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@TaxCode" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@VatIncl" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Discpervat" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@DiscIncl" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Copies" type="decimal" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault="null"/>
				<parameter name="@Recnum" type="decimal" direction="Input" size="5" precision="6" scale="0" param="(6, 0)" nulldefault="null"/>
				<parameter name="@CardId" type="nchar" direction="Input" size="16" precision="0" scale="0" param="(16)" nulldefault="null"/>
				<parameter name="@Shift" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [idx]
	, [tran_date]
	, [tran_time]
	, [trans_num]
	, [trans_code]
	, [voucher]
	, [invoice]
	, [post]
	, [exp_id]
	, [imp_id]
	, [goods_id]
	, [kit_qty]
	, [kit_id]
	, [qty]
	, [unit_symb]
	, [amount]
	, [discount]
	, [carddisc_amt]
	, [vat_amt]
	, [surplus]
	, [commis_amt]
	, [forex_cys]
	, [forex_rate]
	, [expiry_dt]
	, [user_id]
	, [station]
	, [cs_id]
	, [custax_id]
	, [ref]
	, [remark]
	, [updated]
	, [merc_type]
	, [tax_code]
	, [vat_incl]
	, [discpervat]
	, [disc_incl]
	, [copies]
	, [recnum]
	, [card_id]
	, [Shift]
	, [Status]
    FROM
	[dbo].[tblTransaction]
    WHERE 
	 ([idx] = @Idx OR @Idx IS NULL)
	AND ([tran_date] = @TranDate OR @TranDate IS NULL)
	AND ([tran_time] = @TranTime OR @TranTime IS NULL)
	AND ([trans_num] = @TransNum OR @TransNum IS NULL)
	AND ([trans_code] = @TransCode OR @TransCode IS NULL)
	AND ([voucher] = @Voucher OR @Voucher IS NULL)
	AND ([invoice] = @Invoice OR @Invoice IS NULL)
	AND ([post] = @Post OR @Post IS NULL)
	AND ([exp_id] = @ExpId OR @ExpId IS NULL)
	AND ([imp_id] = @ImpId OR @ImpId IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([kit_qty] = @KitQty OR @KitQty IS NULL)
	AND ([kit_id] = @KitId OR @KitId IS NULL)
	AND ([qty] = @Qty OR @Qty IS NULL)
	AND ([unit_symb] = @UnitSymb OR @UnitSymb IS NULL)
	AND ([amount] = @Amount OR @Amount IS NULL)
	AND ([discount] = @Discount OR @Discount IS NULL)
	AND ([carddisc_amt] = @CarddiscAmt OR @CarddiscAmt IS NULL)
	AND ([vat_amt] = @VatAmt OR @VatAmt IS NULL)
	AND ([surplus] = @Surplus OR @Surplus IS NULL)
	AND ([commis_amt] = @CommisAmt OR @CommisAmt IS NULL)
	AND ([forex_cys] = @ForexCys OR @ForexCys IS NULL)
	AND ([forex_rate] = @ForexRate OR @ForexRate IS NULL)
	AND ([expiry_dt] = @ExpiryDt OR @ExpiryDt IS NULL)
	AND ([user_id] = @UserId OR @UserId IS NULL)
	AND ([station] = @Station OR @Station IS NULL)
	AND ([cs_id] = @CsId OR @CsId IS NULL)
	AND ([custax_id] = @CustaxId OR @CustaxId IS NULL)
	AND ([ref] = @SafeNameRef OR @SafeNameRef IS NULL)
	AND ([remark] = @Remark OR @Remark IS NULL)
	AND ([updated] = @Updated OR @Updated IS NULL)
	AND ([merc_type] = @MercType OR @MercType IS NULL)
	AND ([tax_code] = @TaxCode OR @TaxCode IS NULL)
	AND ([vat_incl] = @VatIncl OR @VatIncl IS NULL)
	AND ([discpervat] = @Discpervat OR @Discpervat IS NULL)
	AND ([disc_incl] = @DiscIncl OR @DiscIncl IS NULL)
	AND ([copies] = @Copies OR @Copies IS NULL)
	AND ([recnum] = @Recnum OR @Recnum IS NULL)
	AND ([card_id] = @CardId OR @CardId IS NULL)
	AND ([Shift] = @Shift OR @Shift IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [idx]
	, [tran_date]
	, [tran_time]
	, [trans_num]
	, [trans_code]
	, [voucher]
	, [invoice]
	, [post]
	, [exp_id]
	, [imp_id]
	, [goods_id]
	, [kit_qty]
	, [kit_id]
	, [qty]
	, [unit_symb]
	, [amount]
	, [discount]
	, [carddisc_amt]
	, [vat_amt]
	, [surplus]
	, [commis_amt]
	, [forex_cys]
	, [forex_rate]
	, [expiry_dt]
	, [user_id]
	, [station]
	, [cs_id]
	, [custax_id]
	, [ref]
	, [remark]
	, [updated]
	, [merc_type]
	, [tax_code]
	, [vat_incl]
	, [discpervat]
	, [disc_incl]
	, [copies]
	, [recnum]
	, [card_id]
	, [Shift]
	, [Status]
    FROM
	[dbo].[tblTransaction]
    WHERE 
	 ([idx] = @Idx AND @Idx is not null)
	OR ([tran_date] = @TranDate AND @TranDate is not null)
	OR ([tran_time] = @TranTime AND @TranTime is not null)
	OR ([trans_num] = @TransNum AND @TransNum is not null)
	OR ([trans_code] = @TransCode AND @TransCode is not null)
	OR ([voucher] = @Voucher AND @Voucher is not null)
	OR ([invoice] = @Invoice AND @Invoice is not null)
	OR ([post] = @Post AND @Post is not null)
	OR ([exp_id] = @ExpId AND @ExpId is not null)
	OR ([imp_id] = @ImpId AND @ImpId is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([kit_qty] = @KitQty AND @KitQty is not null)
	OR ([kit_id] = @KitId AND @KitId is not null)
	OR ([qty] = @Qty AND @Qty is not null)
	OR ([unit_symb] = @UnitSymb AND @UnitSymb is not null)
	OR ([amount] = @Amount AND @Amount is not null)
	OR ([discount] = @Discount AND @Discount is not null)
	OR ([carddisc_amt] = @CarddiscAmt AND @CarddiscAmt is not null)
	OR ([vat_amt] = @VatAmt AND @VatAmt is not null)
	OR ([surplus] = @Surplus AND @Surplus is not null)
	OR ([commis_amt] = @CommisAmt AND @CommisAmt is not null)
	OR ([forex_cys] = @ForexCys AND @ForexCys is not null)
	OR ([forex_rate] = @ForexRate AND @ForexRate is not null)
	OR ([expiry_dt] = @ExpiryDt AND @ExpiryDt is not null)
	OR ([user_id] = @UserId AND @UserId is not null)
	OR ([station] = @Station AND @Station is not null)
	OR ([cs_id] = @CsId AND @CsId is not null)
	OR ([custax_id] = @CustaxId AND @CustaxId is not null)
	OR ([ref] = @SafeNameRef AND @SafeNameRef is not null)
	OR ([remark] = @Remark AND @Remark is not null)
	OR ([updated] = @Updated AND @Updated is not null)
	OR ([merc_type] = @MercType AND @MercType is not null)
	OR ([tax_code] = @TaxCode AND @TaxCode is not null)
	OR ([vat_incl] = @VatIncl AND @VatIncl is not null)
	OR ([discpervat] = @Discpervat AND @Discpervat is not null)
	OR ([disc_incl] = @DiscIncl AND @DiscIncl is not null)
	OR ([copies] = @Copies AND @Copies is not null)
	OR ([recnum] = @Recnum AND @Recnum is not null)
	OR ([card_id] = @CardId AND @CardId is not null)
	OR ([Shift] = @Shift AND @Shift is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblTransaction_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblTransaction table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [idx] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [idx] )
				SELECT TOP {3} [idx]
				FROM [dbo].[tblTransaction] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[idx], O.[tran_date], O.[tran_time], O.[trans_num], O.[trans_code], O.[voucher], O.[invoice], O.[post], O.[exp_id], O.[imp_id], O.[goods_id], O.[kit_qty], O.[kit_id], O.[qty], O.[unit_symb], O.[amount], O.[discount], O.[carddisc_amt], O.[vat_amt], O.[surplus], O.[commis_amt], O.[forex_cys], O.[forex_rate], O.[expiry_dt], O.[user_id], O.[station], O.[cs_id], O.[custax_id], O.[ref], O.[remark], O.[updated], O.[merc_type], O.[tax_code], O.[vat_incl], O.[discpervat], O.[disc_incl], O.[copies], O.[recnum], O.[card_id], O.[Shift], O.[Status]
				FROM
				    [dbo].[tblTransaction] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[idx] = PageIndex.[idx]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblTransaction] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblModePayment_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblModePayment table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[pmt_mode],
					[description],
					[forex],
					[forex_rate],
					[iscard],
					[status]
				FROM
					[dbo].[tblModePayment]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblModePayment_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblModePayment table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [pmt_mode] nchar(10) , [forex] nchar(3)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([pmt_mode], [forex])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [pmt_mode], [forex]'
				SET @SQL = @SQL + ' FROM [dbo].[tblModePayment]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[pmt_mode], O.[description], O.[forex], O.[forex_rate], O.[iscard], O.[status]
				FROM
				    [dbo].[tblModePayment] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[pmt_mode] = PageIndex.[pmt_mode]
					AND O.[forex] = PageIndex.[forex]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblModePayment]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblModePayment_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblModePayment table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@PmtMode" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Forex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@ForexRate" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Iscard" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblModePayment]
					(
					[pmt_mode]
					,[description]
					,[forex]
					,[forex_rate]
					,[iscard]
					,[status]
					)
				VALUES
					(
					@PmtMode
					,@Description
					,@Forex
					,@ForexRate
					,@Iscard
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblModePayment_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblModePayment table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@PmtMode" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@OriginalPmtMode" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Forex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@OriginalForex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@ForexRate" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Iscard" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblModePayment]
				SET
					[pmt_mode] = @PmtMode
					,[description] = @Description
					,[forex] = @Forex
					,[forex_rate] = @ForexRate
					,[iscard] = @Iscard
					,[status] = @Status
				WHERE
[pmt_mode] = @OriginalPmtMode 
AND [forex] = @OriginalForex 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblModePayment_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblModePayment table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@PmtMode" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@Forex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblModePayment] WITH (ROWLOCK) 
				WHERE
					[pmt_mode] = @PmtMode
					AND [forex] = @Forex
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblModePayment_GetByPmtModeForex" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblModePayment table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@PmtMode" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@Forex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[pmt_mode],
					[description],
					[forex],
					[forex_rate],
					[iscard],
					[status]
				FROM
					[dbo].[tblModePayment]
				WHERE
					[pmt_mode] = @PmtMode
					AND [forex] = @Forex
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblModePayment_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblModePayment table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@PmtMode" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Forex" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@ForexRate" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Iscard" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [pmt_mode]
	, [description]
	, [forex]
	, [forex_rate]
	, [iscard]
	, [status]
    FROM
	[dbo].[tblModePayment]
    WHERE 
	 ([pmt_mode] = @PmtMode OR @PmtMode IS NULL)
	AND ([description] = @Description OR @Description IS NULL)
	AND ([forex] = @Forex OR @Forex IS NULL)
	AND ([forex_rate] = @ForexRate OR @ForexRate IS NULL)
	AND ([iscard] = @Iscard OR @Iscard IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [pmt_mode]
	, [description]
	, [forex]
	, [forex_rate]
	, [iscard]
	, [status]
    FROM
	[dbo].[tblModePayment]
    WHERE 
	 ([pmt_mode] = @PmtMode AND @PmtMode is not null)
	OR ([description] = @Description AND @Description is not null)
	OR ([forex] = @Forex AND @Forex is not null)
	OR ([forex_rate] = @ForexRate AND @ForexRate is not null)
	OR ([iscard] = @Iscard AND @Iscard is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblModePayment_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblModePayment table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [pmt_mode] nchar(10) , [forex] nchar(3)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [pmt_mode], [forex] )
				SELECT TOP {3} [pmt_mode], [forex]
				FROM [dbo].[tblModePayment] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[pmt_mode], O.[description], O.[forex], O.[forex_rate], O.[iscard], O.[status]
				FROM
				    [dbo].[tblModePayment] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[pmt_mode] = PageIndex.[pmt_mode]
				    AND O.[forex] = PageIndex.[forex]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblModePayment] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblTransnum_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblTransnum table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[trans_type],
					[last_num],
					[last_date]
				FROM
					[dbo].[tblTransnum]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblTransnum_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblTransnum table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_type] char(4)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([trans_type])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [trans_type]'
				SET @SQL = @SQL + ' FROM [dbo].[tblTransnum]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[trans_type], O.[last_num], O.[last_date]
				FROM
				    [dbo].[tblTransnum] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[trans_type] = PageIndex.[trans_type]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblTransnum]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblTransnum_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblTransnum table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransType" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@LastNum" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblTransnum]
					(
					[trans_type]
					,[last_num]
					,[last_date]
					)
				VALUES
					(
					@TransType
					,@LastNum
					,@LastDate
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransnum_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblTransnum table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransType" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@OriginalTransType" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@LastNum" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblTransnum]
				SET
					[trans_type] = @TransType
					,[last_num] = @LastNum
					,[last_date] = @LastDate
				WHERE
[trans_type] = @OriginalTransType 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransnum_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblTransnum table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransType" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblTransnum] WITH (ROWLOCK) 
				WHERE
					[trans_type] = @TransType
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblTransnum_GetByTransType" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblTransnum table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransType" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[trans_type],
					[last_num],
					[last_date]
				FROM
					[dbo].[tblTransnum]
				WHERE
					[trans_type] = @TransType
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblTransnum_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblTransnum table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@TransType" type="char" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault="null"/>
				<parameter name="@LastNum" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [trans_type]
	, [last_num]
	, [last_date]
    FROM
	[dbo].[tblTransnum]
    WHERE 
	 ([trans_type] = @TransType OR @TransType IS NULL)
	AND ([last_num] = @LastNum OR @LastNum IS NULL)
	AND ([last_date] = @LastDate OR @LastDate IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [trans_type]
	, [last_num]
	, [last_date]
    FROM
	[dbo].[tblTransnum]
    WHERE 
	 ([trans_type] = @TransType AND @TransType is not null)
	OR ([last_num] = @LastNum AND @LastNum is not null)
	OR ([last_date] = @LastDate AND @LastDate is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblTransnum_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblTransnum table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_type] char(4)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [trans_type] )
				SELECT TOP {3} [trans_type]
				FROM [dbo].[tblTransnum] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[trans_type], O.[last_num], O.[last_date]
				FROM
				    [dbo].[tblTransnum] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[trans_type] = PageIndex.[trans_type]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblTransnum] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblMercLocation_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblMercLocation table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[idx],
					[stk_id],
					[loc_id],
					[goods_id],
					[check]
				FROM
					[dbo].[tblMercLocation]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblMercLocation_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblMercLocation table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [idx] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([idx])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [idx]'
				SET @SQL = @SQL + ' FROM [dbo].[tblMercLocation]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[idx], O.[stk_id], O.[loc_id], O.[goods_id], O.[check]
				FROM
				    [dbo].[tblMercLocation] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[idx] = PageIndex.[idx]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblMercLocation]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblMercLocation_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblMercLocation table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="numeric" direction="Output" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@StkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@LocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Check" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblMercLocation]
					(
					[stk_id]
					,[loc_id]
					,[goods_id]
					,[check]
					)
				VALUES
					(
					@StkId
					,@LocId
					,@GoodsId
					,@Check
					)
				-- Get the identity value
				SET @Idx = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMercLocation_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblMercLocation table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@StkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@LocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Check" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblMercLocation]
				SET
					[stk_id] = @StkId
					,[loc_id] = @LocId
					,[goods_id] = @GoodsId
					,[check] = @Check
				WHERE
[idx] = @Idx 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMercLocation_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblMercLocation table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblMercLocation] WITH (ROWLOCK) 
				WHERE
					[idx] = @Idx
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMercLocation_GetByIdx" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblMercLocation table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Idx" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[idx],
					[stk_id],
					[loc_id],
					[goods_id],
					[check]
				FROM
					[dbo].[tblMercLocation]
				WHERE
					[idx] = @Idx
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblMercLocation_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblMercLocation table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Idx" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@StkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@LocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault="null"/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Check" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [idx]
	, [stk_id]
	, [loc_id]
	, [goods_id]
	, [check]
    FROM
	[dbo].[tblMercLocation]
    WHERE 
	 ([idx] = @Idx OR @Idx IS NULL)
	AND ([stk_id] = @StkId OR @StkId IS NULL)
	AND ([loc_id] = @LocId OR @LocId IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([check] = @Check OR @Check IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [idx]
	, [stk_id]
	, [loc_id]
	, [goods_id]
	, [check]
    FROM
	[dbo].[tblMercLocation]
    WHERE 
	 ([idx] = @Idx AND @Idx is not null)
	OR ([stk_id] = @StkId AND @StkId is not null)
	OR ([loc_id] = @LocId AND @LocId is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([check] = @Check AND @Check is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblMercLocation_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblMercLocation table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [idx] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [idx] )
				SELECT TOP {3} [idx]
				FROM [dbo].[tblMercLocation] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[idx], O.[stk_id], O.[loc_id], O.[goods_id], O.[check]
				FROM
				    [dbo].[tblMercLocation] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[idx] = PageIndex.[idx]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblMercLocation] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblCurrency_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblCurrency table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[Description],
					[Exchange],
					[Status]
				FROM
					[dbo].[tblCurrency]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblCurrency_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblCurrency table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] nvarchar(3)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblCurrency]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[Description], O.[Exchange], O.[Status]
				FROM
				    [dbo].[tblCurrency] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblCurrency]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblCurrency_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblCurrency table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nvarchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Exchange" type="decimal" direction="Input" size="9" precision="18" scale="3" param="(18, 3)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblCurrency]
					(
					[id]
					,[Description]
					,[Exchange]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Description
					,@Exchange
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCurrency_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblCurrency table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nvarchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@OriginalId" type="nvarchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Exchange" type="decimal" direction="Input" size="9" precision="18" scale="3" param="(18, 3)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblCurrency]
				SET
					[id] = @Id
					,[Description] = @Description
					,[Exchange] = @Exchange
					,[Status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCurrency_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblCurrency table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nvarchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblCurrency] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCurrency_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblCurrency table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nvarchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[Description],
					[Exchange],
					[Status]
				FROM
					[dbo].[tblCurrency]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblCurrency_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblCurrency table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="nvarchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Exchange" type="decimal" direction="Input" size="9" precision="18" scale="3" param="(18, 3)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [Description]
	, [Exchange]
	, [Status]
    FROM
	[dbo].[tblCurrency]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([Description] = @Description OR @Description IS NULL)
	AND ([Exchange] = @Exchange OR @Exchange IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [Description]
	, [Exchange]
	, [Status]
    FROM
	[dbo].[tblCurrency]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([Description] = @Description AND @Description is not null)
	OR ([Exchange] = @Exchange AND @Exchange is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblCurrency_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblCurrency table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] nvarchar(3)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblCurrency] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[Description], O.[Exchange], O.[Status]
				FROM
				    [dbo].[tblCurrency] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblCurrency] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblMenus_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblMenus table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[subitem],
					[parent],
					[menukey],
					[prompt],
					[type],
					[procerdue],
					[imageidx],
					[password],
					[basicright],
					[depcode],
					[skip]
				FROM
					[dbo].[tblMenus]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblMenus_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblMenus table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] int 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblMenus]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[subitem], O.[parent], O.[menukey], O.[prompt], O.[type], O.[procerdue], O.[imageidx], O.[password], O.[basicright], O.[depcode], O.[skip]
				FROM
				    [dbo].[tblMenus] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblMenus]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblMenus_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblMenus table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Output" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Subitem" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Parent" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Menukey" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@Prompt" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Type" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Procerdue" type="nchar" direction="Input" size="40" precision="0" scale="0" param="(40)" nulldefault=""/>
				<parameter name="@Imageidx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Password" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Basicright" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Depcode" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Skip" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblMenus]
					(
					[subitem]
					,[parent]
					,[menukey]
					,[prompt]
					,[type]
					,[procerdue]
					,[imageidx]
					,[password]
					,[basicright]
					,[depcode]
					,[skip]
					)
				VALUES
					(
					@Subitem
					,@Parent
					,@Menukey
					,@Prompt
					,@Type
					,@Procerdue
					,@Imageidx
					,@Password
					,@Basicright
					,@Depcode
					,@Skip
					)
				-- Get the identity value
				SET @Id = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMenus_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblMenus table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Subitem" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Parent" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Menukey" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@Prompt" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Type" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Procerdue" type="nchar" direction="Input" size="40" precision="0" scale="0" param="(40)" nulldefault=""/>
				<parameter name="@Imageidx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Password" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Basicright" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Depcode" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
				<parameter name="@Skip" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblMenus]
				SET
					[subitem] = @Subitem
					,[parent] = @Parent
					,[menukey] = @Menukey
					,[prompt] = @Prompt
					,[type] = @Type
					,[procerdue] = @Procerdue
					,[imageidx] = @Imageidx
					,[password] = @Password
					,[basicright] = @Basicright
					,[depcode] = @Depcode
					,[skip] = @Skip
				WHERE
[id] = @Id 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMenus_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblMenus table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblMenus] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblMenus_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblMenus table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[subitem],
					[parent],
					[menukey],
					[prompt],
					[type],
					[procerdue],
					[imageidx],
					[password],
					[basicright],
					[depcode],
					[skip]
				FROM
					[dbo].[tblMenus]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblMenus_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblMenus table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Subitem" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Parent" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Menukey" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault="null"/>
				<parameter name="@Prompt" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Type" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
				<parameter name="@Procerdue" type="nchar" direction="Input" size="40" precision="0" scale="0" param="(40)" nulldefault="null"/>
				<parameter name="@Imageidx" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Password" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Basicright" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Depcode" type="nchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
				<parameter name="@Skip" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [subitem]
	, [parent]
	, [menukey]
	, [prompt]
	, [type]
	, [procerdue]
	, [imageidx]
	, [password]
	, [basicright]
	, [depcode]
	, [skip]
    FROM
	[dbo].[tblMenus]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([subitem] = @Subitem OR @Subitem IS NULL)
	AND ([parent] = @Parent OR @Parent IS NULL)
	AND ([menukey] = @Menukey OR @Menukey IS NULL)
	AND ([prompt] = @Prompt OR @Prompt IS NULL)
	AND ([type] = @Type OR @Type IS NULL)
	AND ([procerdue] = @Procerdue OR @Procerdue IS NULL)
	AND ([imageidx] = @Imageidx OR @Imageidx IS NULL)
	AND ([password] = @Password OR @Password IS NULL)
	AND ([basicright] = @Basicright OR @Basicright IS NULL)
	AND ([depcode] = @Depcode OR @Depcode IS NULL)
	AND ([skip] = @Skip OR @Skip IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [subitem]
	, [parent]
	, [menukey]
	, [prompt]
	, [type]
	, [procerdue]
	, [imageidx]
	, [password]
	, [basicright]
	, [depcode]
	, [skip]
    FROM
	[dbo].[tblMenus]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([subitem] = @Subitem AND @Subitem is not null)
	OR ([parent] = @Parent AND @Parent is not null)
	OR ([menukey] = @Menukey AND @Menukey is not null)
	OR ([prompt] = @Prompt AND @Prompt is not null)
	OR ([type] = @Type AND @Type is not null)
	OR ([procerdue] = @Procerdue AND @Procerdue is not null)
	OR ([imageidx] = @Imageidx AND @Imageidx is not null)
	OR ([password] = @Password AND @Password is not null)
	OR ([basicright] = @Basicright AND @Basicright is not null)
	OR ([depcode] = @Depcode AND @Depcode is not null)
	OR ([skip] = @Skip AND @Skip is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblMenus_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblMenus table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblMenus] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[subitem], O.[parent], O.[menukey], O.[prompt], O.[type], O.[procerdue], O.[imageidx], O.[password], O.[basicright], O.[depcode], O.[skip]
				FROM
				    [dbo].[tblMenus] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblMenus] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblCust_info_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblCust_info table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[Cust_id],
					[goods_id],
					[imp_qty],
					[imp_amt],
					[exp_qty],
					[exp_amt],
					[lastwspr],
					[last_date]
				FROM
					[dbo].[tblCust_info]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblCust_info_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblCust_info table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [Cust_id] nchar(5) , [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([Cust_id], [goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [Cust_id], [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblCust_info]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[Cust_id], O.[goods_id], O.[imp_qty], O.[imp_amt], O.[exp_qty], O.[exp_amt], O.[lastwspr], O.[last_date]
				FROM
				    [dbo].[tblCust_info] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[Cust_id] = PageIndex.[Cust_id]
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblCust_info]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblCust_info_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblCust_info table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@CustId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@ImpQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@ImpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ExpQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@ExpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Lastwspr" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblCust_info]
					(
					[Cust_id]
					,[goods_id]
					,[imp_qty]
					,[imp_amt]
					,[exp_qty]
					,[exp_amt]
					,[lastwspr]
					,[last_date]
					)
				VALUES
					(
					@CustId
					,@GoodsId
					,@ImpQty
					,@ImpAmt
					,@ExpQty
					,@ExpAmt
					,@Lastwspr
					,@LastDate
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCust_info_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblCust_info table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@CustId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@OriginalCustId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@ImpQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@ImpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@ExpQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@ExpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@Lastwspr" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblCust_info]
				SET
					[Cust_id] = @CustId
					,[goods_id] = @GoodsId
					,[imp_qty] = @ImpQty
					,[imp_amt] = @ImpAmt
					,[exp_qty] = @ExpQty
					,[exp_amt] = @ExpAmt
					,[lastwspr] = @Lastwspr
					,[last_date] = @LastDate
				WHERE
[Cust_id] = @OriginalCustId 
AND [goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCust_info_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblCust_info table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@CustId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblCust_info] WITH (ROWLOCK) 
				WHERE
					[Cust_id] = @CustId
					AND [goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCust_info_GetByCustIdGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblCust_info table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@CustId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[Cust_id],
					[goods_id],
					[imp_qty],
					[imp_amt],
					[exp_qty],
					[exp_amt],
					[lastwspr],
					[last_date]
				FROM
					[dbo].[tblCust_info]
				WHERE
					[Cust_id] = @CustId
					AND [goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblCust_info_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblCust_info table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@CustId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@ImpQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@ImpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@ExpQty" type="decimal" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@ExpAmt" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@Lastwspr" type="decimal" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [Cust_id]
	, [goods_id]
	, [imp_qty]
	, [imp_amt]
	, [exp_qty]
	, [exp_amt]
	, [lastwspr]
	, [last_date]
    FROM
	[dbo].[tblCust_info]
    WHERE 
	 ([Cust_id] = @CustId OR @CustId IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([imp_qty] = @ImpQty OR @ImpQty IS NULL)
	AND ([imp_amt] = @ImpAmt OR @ImpAmt IS NULL)
	AND ([exp_qty] = @ExpQty OR @ExpQty IS NULL)
	AND ([exp_amt] = @ExpAmt OR @ExpAmt IS NULL)
	AND ([lastwspr] = @Lastwspr OR @Lastwspr IS NULL)
	AND ([last_date] = @LastDate OR @LastDate IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [Cust_id]
	, [goods_id]
	, [imp_qty]
	, [imp_amt]
	, [exp_qty]
	, [exp_amt]
	, [lastwspr]
	, [last_date]
    FROM
	[dbo].[tblCust_info]
    WHERE 
	 ([Cust_id] = @CustId AND @CustId is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([imp_qty] = @ImpQty AND @ImpQty is not null)
	OR ([imp_amt] = @ImpAmt AND @ImpAmt is not null)
	OR ([exp_qty] = @ExpQty AND @ExpQty is not null)
	OR ([exp_amt] = @ExpAmt AND @ExpAmt is not null)
	OR ([lastwspr] = @Lastwspr AND @Lastwspr is not null)
	OR ([last_date] = @LastDate AND @LastDate is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblCust_info_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblCust_info table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [Cust_id] nchar(5) , [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [Cust_id], [goods_id] )
				SELECT TOP {3} [Cust_id], [goods_id]
				FROM [dbo].[tblCust_info] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[Cust_id], O.[goods_id], O.[imp_qty], O.[imp_amt], O.[exp_qty], O.[exp_amt], O.[lastwspr], O.[last_date]
				FROM
				    [dbo].[tblCust_info] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[Cust_id] = PageIndex.[Cust_id]
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblCust_info] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblCsCard_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblCsCard table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[card_id],
					[is_vip],
					[cs_sex],
					[person_id],
					[birthday],
					[ps_issuedate],
					[ps_placeissuse],
					[fullname],
					[address],
					[phone],
					[email],
					[disc_pc],
					[iss_date],
					[due_date],
					[image],
					[remark],
					[begmark],
					[endmark],
					[status]
				FROM
					[dbo].[tblCsCard]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblCsCard_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblCsCard table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [card_id] char(8)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([card_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [card_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblCsCard]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[card_id], O.[is_vip], O.[cs_sex], O.[person_id], O.[birthday], O.[ps_issuedate], O.[ps_placeissuse], O.[fullname], O.[address], O.[phone], O.[email], O.[disc_pc], O.[iss_date], O.[due_date], O.[image], O.[remark], O.[begmark], O.[endmark], O.[status]
				FROM
				    [dbo].[tblCsCard] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[card_id] = PageIndex.[card_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblCsCard]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblCsCard_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblCsCard table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@CardId" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
				<parameter name="@IsVip" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@CsSex" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@PersonId" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Birthday" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@PsIssuedate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@PsPlaceissuse" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault=""/>
				<parameter name="@Phone" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Email" type="varchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@DiscPc" type="decimal" direction="Input" size="5" precision="5" scale="2" param="(5, 2)" nulldefault=""/>
				<parameter name="@IssDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault=""/>
				<parameter name="@Begmark" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Endmark" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblCsCard]
					(
					[card_id]
					,[is_vip]
					,[cs_sex]
					,[person_id]
					,[birthday]
					,[ps_issuedate]
					,[ps_placeissuse]
					,[fullname]
					,[address]
					,[phone]
					,[email]
					,[disc_pc]
					,[iss_date]
					,[due_date]
					,[image]
					,[remark]
					,[begmark]
					,[endmark]
					,[status]
					)
				VALUES
					(
					@CardId
					,@IsVip
					,@CsSex
					,@PersonId
					,@Birthday
					,@PsIssuedate
					,@PsPlaceissuse
					,@Fullname
					,@Address
					,@Phone
					,@Email
					,@DiscPc
					,@IssDate
					,@DueDate
					,@Image
					,@Remark
					,@Begmark
					,@Endmark
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCsCard_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblCsCard table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@CardId" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
				<parameter name="@OriginalCardId" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
				<parameter name="@IsVip" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@CsSex" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@PersonId" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Birthday" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@PsIssuedate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@PsPlaceissuse" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault=""/>
				<parameter name="@Phone" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Email" type="varchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@DiscPc" type="decimal" direction="Input" size="5" precision="5" scale="2" param="(5, 2)" nulldefault=""/>
				<parameter name="@IssDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault=""/>
				<parameter name="@Begmark" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Endmark" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblCsCard]
				SET
					[card_id] = @CardId
					,[is_vip] = @IsVip
					,[cs_sex] = @CsSex
					,[person_id] = @PersonId
					,[birthday] = @Birthday
					,[ps_issuedate] = @PsIssuedate
					,[ps_placeissuse] = @PsPlaceissuse
					,[fullname] = @Fullname
					,[address] = @Address
					,[phone] = @Phone
					,[email] = @Email
					,[disc_pc] = @DiscPc
					,[iss_date] = @IssDate
					,[due_date] = @DueDate
					,[image] = @Image
					,[remark] = @Remark
					,[begmark] = @Begmark
					,[endmark] = @Endmark
					,[status] = @Status
				WHERE
[card_id] = @OriginalCardId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCsCard_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblCsCard table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@CardId" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblCsCard] WITH (ROWLOCK) 
				WHERE
					[card_id] = @CardId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCsCard_GetByCardId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblCsCard table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@CardId" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[card_id],
					[is_vip],
					[cs_sex],
					[person_id],
					[birthday],
					[ps_issuedate],
					[ps_placeissuse],
					[fullname],
					[address],
					[phone],
					[email],
					[disc_pc],
					[iss_date],
					[due_date],
					[image],
					[remark],
					[begmark],
					[endmark],
					[status]
				FROM
					[dbo].[tblCsCard]
				WHERE
					[card_id] = @CardId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblCsCard_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblCsCard table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@CardId" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault="null"/>
				<parameter name="@IsVip" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@CsSex" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@PersonId" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@Birthday" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@PsIssuedate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@PsPlaceissuse" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault="null"/>
				<parameter name="@Phone" type="varchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Email" type="varchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@DiscPc" type="decimal" direction="Input" size="5" precision="5" scale="2" param="(5, 2)" nulldefault="null"/>
				<parameter name="@IssDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault="null"/>
				<parameter name="@Begmark" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@Endmark" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [card_id]
	, [is_vip]
	, [cs_sex]
	, [person_id]
	, [birthday]
	, [ps_issuedate]
	, [ps_placeissuse]
	, [fullname]
	, [address]
	, [phone]
	, [email]
	, [disc_pc]
	, [iss_date]
	, [due_date]
	, [image]
	, [remark]
	, [begmark]
	, [endmark]
	, [status]
    FROM
	[dbo].[tblCsCard]
    WHERE 
	 ([card_id] = @CardId OR @CardId IS NULL)
	AND ([is_vip] = @IsVip OR @IsVip IS NULL)
	AND ([cs_sex] = @CsSex OR @CsSex IS NULL)
	AND ([person_id] = @PersonId OR @PersonId IS NULL)
	AND ([birthday] = @Birthday OR @Birthday IS NULL)
	AND ([ps_issuedate] = @PsIssuedate OR @PsIssuedate IS NULL)
	AND ([ps_placeissuse] = @PsPlaceissuse OR @PsPlaceissuse IS NULL)
	AND ([fullname] = @Fullname OR @Fullname IS NULL)
	AND ([address] = @Address OR @Address IS NULL)
	AND ([phone] = @Phone OR @Phone IS NULL)
	AND ([email] = @Email OR @Email IS NULL)
	AND ([disc_pc] = @DiscPc OR @DiscPc IS NULL)
	AND ([iss_date] = @IssDate OR @IssDate IS NULL)
	AND ([due_date] = @DueDate OR @DueDate IS NULL)
	AND ([remark] = @Remark OR @Remark IS NULL)
	AND ([begmark] = @Begmark OR @Begmark IS NULL)
	AND ([endmark] = @Endmark OR @Endmark IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [card_id]
	, [is_vip]
	, [cs_sex]
	, [person_id]
	, [birthday]
	, [ps_issuedate]
	, [ps_placeissuse]
	, [fullname]
	, [address]
	, [phone]
	, [email]
	, [disc_pc]
	, [iss_date]
	, [due_date]
	, [image]
	, [remark]
	, [begmark]
	, [endmark]
	, [status]
    FROM
	[dbo].[tblCsCard]
    WHERE 
	 ([card_id] = @CardId AND @CardId is not null)
	OR ([is_vip] = @IsVip AND @IsVip is not null)
	OR ([cs_sex] = @CsSex AND @CsSex is not null)
	OR ([person_id] = @PersonId AND @PersonId is not null)
	OR ([birthday] = @Birthday AND @Birthday is not null)
	OR ([ps_issuedate] = @PsIssuedate AND @PsIssuedate is not null)
	OR ([ps_placeissuse] = @PsPlaceissuse AND @PsPlaceissuse is not null)
	OR ([fullname] = @Fullname AND @Fullname is not null)
	OR ([address] = @Address AND @Address is not null)
	OR ([phone] = @Phone AND @Phone is not null)
	OR ([email] = @Email AND @Email is not null)
	OR ([disc_pc] = @DiscPc AND @DiscPc is not null)
	OR ([iss_date] = @IssDate AND @IssDate is not null)
	OR ([due_date] = @DueDate AND @DueDate is not null)
	OR ([remark] = @Remark AND @Remark is not null)
	OR ([begmark] = @Begmark AND @Begmark is not null)
	OR ([endmark] = @Endmark AND @Endmark is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblCsCard_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblCsCard table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [card_id] char(8)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [card_id] )
				SELECT TOP {3} [card_id]
				FROM [dbo].[tblCsCard] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[card_id], O.[is_vip], O.[cs_sex], O.[person_id], O.[birthday], O.[ps_issuedate], O.[ps_placeissuse], O.[fullname], O.[address], O.[phone], O.[email], O.[disc_pc], O.[iss_date], O.[due_date], O.[image], O.[remark], O.[begmark], O.[endmark], O.[status]
				FROM
				    [dbo].[tblCsCard] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[card_id] = PageIndex.[card_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblCsCard] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblCustomer_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblCustomer table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[Type],
					[fullname],
					[address],
					[phone],
					[fax],
					[person_id],
					[place_issue],
					[email],
					[due_date],
					[image],
					[bankname],
					[bank_br],
					[accnum],
					[Vatnum],
					[contactps],
					[remark],
					[open_date],
					[Status]
				FROM
					[dbo].[tblCustomer]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblCustomer_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblCustomer table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] char(8)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblCustomer]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[Type], O.[fullname], O.[address], O.[phone], O.[fax], O.[person_id], O.[place_issue], O.[email], O.[due_date], O.[image], O.[bankname], O.[bank_br], O.[accnum], O.[Vatnum], O.[contactps], O.[remark], O.[open_date], O.[Status]
				FROM
				    [dbo].[tblCustomer] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblCustomer]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblCustomer_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblCustomer table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
				<parameter name="@Type" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@Phone" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Fax" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@PlaceIssue" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@Email" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@Bankname" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@BankBr" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@Accnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Vatnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Contactps" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblCustomer]
					(
					[id]
					,[Type]
					,[fullname]
					,[address]
					,[phone]
					,[fax]
					,[person_id]
					,[place_issue]
					,[email]
					,[due_date]
					,[image]
					,[bankname]
					,[bank_br]
					,[accnum]
					,[Vatnum]
					,[contactps]
					,[remark]
					,[open_date]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Type
					,@Fullname
					,@Address
					,@Phone
					,@Fax
					,@PersonId
					,@PlaceIssue
					,@Email
					,@DueDate
					,@Image
					,@Bankname
					,@BankBr
					,@Accnum
					,@Vatnum
					,@Contactps
					,@Remark
					,@OpenDate
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCustomer_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblCustomer table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
				<parameter name="@OriginalId" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
				<parameter name="@Type" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@Phone" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Fax" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault=""/>
				<parameter name="@PlaceIssue" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@Email" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@Bankname" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@BankBr" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault=""/>
				<parameter name="@Accnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Vatnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Contactps" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblCustomer]
				SET
					[id] = @Id
					,[Type] = @Type
					,[fullname] = @Fullname
					,[address] = @Address
					,[phone] = @Phone
					,[fax] = @Fax
					,[person_id] = @PersonId
					,[place_issue] = @PlaceIssue
					,[email] = @Email
					,[due_date] = @DueDate
					,[image] = @Image
					,[bankname] = @Bankname
					,[bank_br] = @BankBr
					,[accnum] = @Accnum
					,[Vatnum] = @Vatnum
					,[contactps] = @Contactps
					,[remark] = @Remark
					,[open_date] = @OpenDate
					,[Status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCustomer_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblCustomer table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblCustomer] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblCustomer_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblCustomer table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[Type],
					[fullname],
					[address],
					[phone],
					[fax],
					[person_id],
					[place_issue],
					[email],
					[due_date],
					[image],
					[bankname],
					[bank_br],
					[accnum],
					[Vatnum],
					[contactps],
					[remark],
					[open_date],
					[Status]
				FROM
					[dbo].[tblCustomer]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblCustomer_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblCustomer table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="char" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault="null"/>
				<parameter name="@Type" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Fullname" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@Phone" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Fax" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="30" precision="0" scale="0" param="(30)" nulldefault="null"/>
				<parameter name="@PlaceIssue" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault="null"/>
				<parameter name="@Email" type="nchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
				<parameter name="@Bankname" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault="null"/>
				<parameter name="@BankBr" type="nvarchar" direction="Input" size="150" precision="0" scale="0" param="(150)" nulldefault="null"/>
				<parameter name="@Accnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Vatnum" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Contactps" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="500" precision="0" scale="0" param="(500)" nulldefault="null"/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [Type]
	, [fullname]
	, [address]
	, [phone]
	, [fax]
	, [person_id]
	, [place_issue]
	, [email]
	, [due_date]
	, [image]
	, [bankname]
	, [bank_br]
	, [accnum]
	, [Vatnum]
	, [contactps]
	, [remark]
	, [open_date]
	, [Status]
    FROM
	[dbo].[tblCustomer]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([Type] = @Type OR @Type IS NULL)
	AND ([fullname] = @Fullname OR @Fullname IS NULL)
	AND ([address] = @Address OR @Address IS NULL)
	AND ([phone] = @Phone OR @Phone IS NULL)
	AND ([fax] = @Fax OR @Fax IS NULL)
	AND ([person_id] = @PersonId OR @PersonId IS NULL)
	AND ([place_issue] = @PlaceIssue OR @PlaceIssue IS NULL)
	AND ([email] = @Email OR @Email IS NULL)
	AND ([due_date] = @DueDate OR @DueDate IS NULL)
	AND ([bankname] = @Bankname OR @Bankname IS NULL)
	AND ([bank_br] = @BankBr OR @BankBr IS NULL)
	AND ([accnum] = @Accnum OR @Accnum IS NULL)
	AND ([Vatnum] = @Vatnum OR @Vatnum IS NULL)
	AND ([contactps] = @Contactps OR @Contactps IS NULL)
	AND ([remark] = @Remark OR @Remark IS NULL)
	AND ([open_date] = @OpenDate OR @OpenDate IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [Type]
	, [fullname]
	, [address]
	, [phone]
	, [fax]
	, [person_id]
	, [place_issue]
	, [email]
	, [due_date]
	, [image]
	, [bankname]
	, [bank_br]
	, [accnum]
	, [Vatnum]
	, [contactps]
	, [remark]
	, [open_date]
	, [Status]
    FROM
	[dbo].[tblCustomer]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([Type] = @Type AND @Type is not null)
	OR ([fullname] = @Fullname AND @Fullname is not null)
	OR ([address] = @Address AND @Address is not null)
	OR ([phone] = @Phone AND @Phone is not null)
	OR ([fax] = @Fax AND @Fax is not null)
	OR ([person_id] = @PersonId AND @PersonId is not null)
	OR ([place_issue] = @PlaceIssue AND @PlaceIssue is not null)
	OR ([email] = @Email AND @Email is not null)
	OR ([due_date] = @DueDate AND @DueDate is not null)
	OR ([bankname] = @Bankname AND @Bankname is not null)
	OR ([bank_br] = @BankBr AND @BankBr is not null)
	OR ([accnum] = @Accnum AND @Accnum is not null)
	OR ([Vatnum] = @Vatnum AND @Vatnum is not null)
	OR ([contactps] = @Contactps AND @Contactps is not null)
	OR ([remark] = @Remark AND @Remark is not null)
	OR ([open_date] = @OpenDate AND @OpenDate is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblCustomer_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblCustomer table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] char(8)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblCustomer] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[Type], O.[fullname], O.[address], O.[phone], O.[fax], O.[person_id], O.[place_issue], O.[email], O.[due_date], O.[image], O.[bankname], O.[bank_br], O.[accnum], O.[Vatnum], O.[contactps], O.[remark], O.[open_date], O.[Status]
				FROM
				    [dbo].[tblCustomer] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblCustomer] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblAccTrans_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblAccTrans table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[tran_date],
					[tran_time],
					[ef_date],
					[trans_num],
					[voucher],
					[trans_code],
					[account_id],
					[db_amount],
					[cr_amount],
					[user_id],
					[corr_acc],
					[remark],
					[name],
					[address],
					[person_id],
					[updated],
					[recnum],
					[status]
				FROM
					[dbo].[tblAccTrans]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblAccTrans_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblAccTrans table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblAccTrans]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[tran_date], O.[tran_time], O.[ef_date], O.[trans_num], O.[voucher], O.[trans_code], O.[account_id], O.[db_amount], O.[cr_amount], O.[user_id], O.[corr_acc], O.[remark], O.[name], O.[address], O.[person_id], O.[updated], O.[recnum], O.[status]
				FROM
				    [dbo].[tblAccTrans] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblAccTrans]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblAccTrans_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblAccTrans table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Output" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TranTime" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@EfDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Voucher" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@AccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@DbAmount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@CrAmount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@UserId" type="numeric" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault=""/>
				<parameter name="@CorrAcc" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Updated" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Recnum" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblAccTrans]
					(
					[tran_date]
					,[tran_time]
					,[ef_date]
					,[trans_num]
					,[voucher]
					,[trans_code]
					,[account_id]
					,[db_amount]
					,[cr_amount]
					,[user_id]
					,[corr_acc]
					,[remark]
					,[name]
					,[address]
					,[person_id]
					,[updated]
					,[recnum]
					,[status]
					)
				VALUES
					(
					@TranDate
					,@TranTime
					,@EfDate
					,@TransNum
					,@Voucher
					,@TransCode
					,@AccountId
					,@DbAmount
					,@CrAmount
					,@UserId
					,@CorrAcc
					,@Remark
					,@Name
					,@Address
					,@PersonId
					,@Updated
					,@Recnum
					,@Status
					)
				-- Get the identity value
				SET @Id = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAccTrans_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblAccTrans table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TranTime" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@EfDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Voucher" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@AccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@DbAmount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@CrAmount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@UserId" type="numeric" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault=""/>
				<parameter name="@CorrAcc" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault=""/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Updated" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Recnum" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblAccTrans]
				SET
					[tran_date] = @TranDate
					,[tran_time] = @TranTime
					,[ef_date] = @EfDate
					,[trans_num] = @TransNum
					,[voucher] = @Voucher
					,[trans_code] = @TransCode
					,[account_id] = @AccountId
					,[db_amount] = @DbAmount
					,[cr_amount] = @CrAmount
					,[user_id] = @UserId
					,[corr_acc] = @CorrAcc
					,[remark] = @Remark
					,[name] = @Name
					,[address] = @Address
					,[person_id] = @PersonId
					,[updated] = @Updated
					,[recnum] = @Recnum
					,[status] = @Status
				WHERE
[id] = @Id 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAccTrans_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblAccTrans table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblAccTrans] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAccTrans_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblAccTrans table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[tran_date],
					[tran_time],
					[ef_date],
					[trans_num],
					[voucher],
					[trans_code],
					[account_id],
					[db_amount],
					[cr_amount],
					[user_id],
					[corr_acc],
					[remark],
					[name],
					[address],
					[person_id],
					[updated],
					[recnum],
					[status]
				FROM
					[dbo].[tblAccTrans]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblAccTrans_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblAccTrans table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@TranTime" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@EfDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@TransNum" type="char" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault="null"/>
				<parameter name="@Voucher" type="char" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@TransCode" type="char" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@AccountId" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault="null"/>
				<parameter name="@DbAmount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@CrAmount" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@UserId" type="numeric" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault="null"/>
				<parameter name="@CorrAcc" type="char" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault="null"/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Address" type="nvarchar" direction="Input" size="255" precision="0" scale="0" param="(255)" nulldefault="null"/>
				<parameter name="@PersonId" type="nchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@Updated" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Recnum" type="numeric" direction="Input" size="5" precision="2" scale="0" param="(2, 0)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [tran_date]
	, [tran_time]
	, [ef_date]
	, [trans_num]
	, [voucher]
	, [trans_code]
	, [account_id]
	, [db_amount]
	, [cr_amount]
	, [user_id]
	, [corr_acc]
	, [remark]
	, [name]
	, [address]
	, [person_id]
	, [updated]
	, [recnum]
	, [status]
    FROM
	[dbo].[tblAccTrans]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([tran_date] = @TranDate OR @TranDate IS NULL)
	AND ([tran_time] = @TranTime OR @TranTime IS NULL)
	AND ([ef_date] = @EfDate OR @EfDate IS NULL)
	AND ([trans_num] = @TransNum OR @TransNum IS NULL)
	AND ([voucher] = @Voucher OR @Voucher IS NULL)
	AND ([trans_code] = @TransCode OR @TransCode IS NULL)
	AND ([account_id] = @AccountId OR @AccountId IS NULL)
	AND ([db_amount] = @DbAmount OR @DbAmount IS NULL)
	AND ([cr_amount] = @CrAmount OR @CrAmount IS NULL)
	AND ([user_id] = @UserId OR @UserId IS NULL)
	AND ([corr_acc] = @CorrAcc OR @CorrAcc IS NULL)
	AND ([remark] = @Remark OR @Remark IS NULL)
	AND ([name] = @Name OR @Name IS NULL)
	AND ([address] = @Address OR @Address IS NULL)
	AND ([person_id] = @PersonId OR @PersonId IS NULL)
	AND ([updated] = @Updated OR @Updated IS NULL)
	AND ([recnum] = @Recnum OR @Recnum IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [tran_date]
	, [tran_time]
	, [ef_date]
	, [trans_num]
	, [voucher]
	, [trans_code]
	, [account_id]
	, [db_amount]
	, [cr_amount]
	, [user_id]
	, [corr_acc]
	, [remark]
	, [name]
	, [address]
	, [person_id]
	, [updated]
	, [recnum]
	, [status]
    FROM
	[dbo].[tblAccTrans]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([tran_date] = @TranDate AND @TranDate is not null)
	OR ([tran_time] = @TranTime AND @TranTime is not null)
	OR ([ef_date] = @EfDate AND @EfDate is not null)
	OR ([trans_num] = @TransNum AND @TransNum is not null)
	OR ([voucher] = @Voucher AND @Voucher is not null)
	OR ([trans_code] = @TransCode AND @TransCode is not null)
	OR ([account_id] = @AccountId AND @AccountId is not null)
	OR ([db_amount] = @DbAmount AND @DbAmount is not null)
	OR ([cr_amount] = @CrAmount AND @CrAmount is not null)
	OR ([user_id] = @UserId AND @UserId is not null)
	OR ([corr_acc] = @CorrAcc AND @CorrAcc is not null)
	OR ([remark] = @Remark AND @Remark is not null)
	OR ([name] = @Name AND @Name is not null)
	OR ([address] = @Address AND @Address is not null)
	OR ([person_id] = @PersonId AND @PersonId is not null)
	OR ([updated] = @Updated AND @Updated is not null)
	OR ([recnum] = @Recnum AND @Recnum is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblAccTrans_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblAccTrans table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblAccTrans] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[tran_date], O.[tran_time], O.[ef_date], O.[trans_num], O.[voucher], O.[trans_code], O.[account_id], O.[db_amount], O.[cr_amount], O.[user_id], O.[corr_acc], O.[remark], O.[name], O.[address], O.[person_id], O.[updated], O.[recnum], O.[status]
				FROM
				    [dbo].[tblAccTrans] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblAccTrans] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblBookAttr_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblBookAttr table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[goods_id],
					[author],
					[publish],
					[translator],
					[form_type],
					[language],
					[pl_month],
					[pl_year],
					[dimension],
					[weight],
					[pages],
					[introinfo]
				FROM
					[dbo].[tblBookAttr]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblBookAttr_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblBookAttr table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblBookAttr]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[goods_id], O.[author], O.[publish], O.[translator], O.[form_type], O.[language], O.[pl_month], O.[pl_year], O.[dimension], O.[weight], O.[pages], O.[introinfo]
				FROM
				    [dbo].[tblBookAttr] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblBookAttr]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblBookAttr_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblBookAttr table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Author" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Publish" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Translator" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@FormType" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Language" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@PlMonth" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@PlYear" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Dimension" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Weight" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Pages" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Introinfo" type="nvarchar" direction="Input" size="1500" precision="0" scale="0" param="(1500)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblBookAttr]
					(
					[goods_id]
					,[author]
					,[publish]
					,[translator]
					,[form_type]
					,[language]
					,[pl_month]
					,[pl_year]
					,[dimension]
					,[weight]
					,[pages]
					,[introinfo]
					)
				VALUES
					(
					@GoodsId
					,@Author
					,@Publish
					,@Translator
					,@FormType
					,@Language
					,@PlMonth
					,@PlYear
					,@Dimension
					,@Weight
					,@Pages
					,@Introinfo
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblBookAttr_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblBookAttr table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Author" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Publish" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Translator" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@FormType" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Language" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@PlMonth" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@PlYear" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Dimension" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Weight" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Pages" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@Introinfo" type="nvarchar" direction="Input" size="1500" precision="0" scale="0" param="(1500)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblBookAttr]
				SET
					[goods_id] = @GoodsId
					,[author] = @Author
					,[publish] = @Publish
					,[translator] = @Translator
					,[form_type] = @FormType
					,[language] = @Language
					,[pl_month] = @PlMonth
					,[pl_year] = @PlYear
					,[dimension] = @Dimension
					,[weight] = @Weight
					,[pages] = @Pages
					,[introinfo] = @Introinfo
				WHERE
[goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblBookAttr_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblBookAttr table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblBookAttr] WITH (ROWLOCK) 
				WHERE
					[goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblBookAttr_GetByGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblBookAttr table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[goods_id],
					[author],
					[publish],
					[translator],
					[form_type],
					[language],
					[pl_month],
					[pl_year],
					[dimension],
					[weight],
					[pages],
					[introinfo]
				FROM
					[dbo].[tblBookAttr]
				WHERE
					[goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblBookAttr_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblBookAttr table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Author" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Publish" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Translator" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@FormType" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Language" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@PlMonth" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@PlYear" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Dimension" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Weight" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Pages" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@Introinfo" type="nvarchar" direction="Input" size="1500" precision="0" scale="0" param="(1500)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [goods_id]
	, [author]
	, [publish]
	, [translator]
	, [form_type]
	, [language]
	, [pl_month]
	, [pl_year]
	, [dimension]
	, [weight]
	, [pages]
	, [introinfo]
    FROM
	[dbo].[tblBookAttr]
    WHERE 
	 ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([author] = @Author OR @Author IS NULL)
	AND ([publish] = @Publish OR @Publish IS NULL)
	AND ([translator] = @Translator OR @Translator IS NULL)
	AND ([form_type] = @FormType OR @FormType IS NULL)
	AND ([language] = @Language OR @Language IS NULL)
	AND ([pl_month] = @PlMonth OR @PlMonth IS NULL)
	AND ([pl_year] = @PlYear OR @PlYear IS NULL)
	AND ([dimension] = @Dimension OR @Dimension IS NULL)
	AND ([weight] = @Weight OR @Weight IS NULL)
	AND ([pages] = @Pages OR @Pages IS NULL)
	AND ([introinfo] = @Introinfo OR @Introinfo IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [goods_id]
	, [author]
	, [publish]
	, [translator]
	, [form_type]
	, [language]
	, [pl_month]
	, [pl_year]
	, [dimension]
	, [weight]
	, [pages]
	, [introinfo]
    FROM
	[dbo].[tblBookAttr]
    WHERE 
	 ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([author] = @Author AND @Author is not null)
	OR ([publish] = @Publish AND @Publish is not null)
	OR ([translator] = @Translator AND @Translator is not null)
	OR ([form_type] = @FormType AND @FormType is not null)
	OR ([language] = @Language AND @Language is not null)
	OR ([pl_month] = @PlMonth AND @PlMonth is not null)
	OR ([pl_year] = @PlYear AND @PlYear is not null)
	OR ([dimension] = @Dimension AND @Dimension is not null)
	OR ([weight] = @Weight AND @Weight is not null)
	OR ([pages] = @Pages AND @Pages is not null)
	OR ([introinfo] = @Introinfo AND @Introinfo is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblBookAttr_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblBookAttr table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [goods_id] )
				SELECT TOP {3} [goods_id]
				FROM [dbo].[tblBookAttr] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[goods_id], O.[author], O.[publish], O.[translator], O.[form_type], O.[language], O.[pl_month], O.[pl_year], O.[dimension], O.[weight], O.[pages], O.[introinfo]
				FROM
				    [dbo].[tblBookAttr] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblBookAttr] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblAtrCode_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblAtrCode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[trans_code],
					[trans_name],
					[status],
					[db_accid],
					[cr_accid],
					[accid1],
					[accid2],
					[accid3],
					[pcommand],
					[form],
					[voucher],
					[fvoucher],
					[nov],
					[tr_type]
				FROM
					[dbo].[tblAtrCode]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblAtrCode_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblAtrCode table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_code] nvarchar(2)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([trans_code])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [trans_code]'
				SET @SQL = @SQL + ' FROM [dbo].[tblAtrCode]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[trans_code], O.[trans_name], O.[status], O.[db_accid], O.[cr_accid], O.[accid1], O.[accid2], O.[accid3], O.[pcommand], O.[form], O.[voucher], O.[fvoucher], O.[nov], O.[tr_type]
				FROM
				    [dbo].[tblAtrCode] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[trans_code] = PageIndex.[trans_code]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblAtrCode]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblAtrCode_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblAtrCode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransCode" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@TransName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@DbAccid" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@CrAccid" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Accid1" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Accid2" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Accid3" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Pcommand" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Form" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Voucher" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Fvoucher" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Nov" type="numeric" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault=""/>
				<parameter name="@TrType" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblAtrCode]
					(
					[trans_code]
					,[trans_name]
					,[status]
					,[db_accid]
					,[cr_accid]
					,[accid1]
					,[accid2]
					,[accid3]
					,[pcommand]
					,[form]
					,[voucher]
					,[fvoucher]
					,[nov]
					,[tr_type]
					)
				VALUES
					(
					@TransCode
					,@TransName
					,@Status
					,@DbAccid
					,@CrAccid
					,@Accid1
					,@Accid2
					,@Accid3
					,@Pcommand
					,@Form
					,@Voucher
					,@Fvoucher
					,@Nov
					,@TrType
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAtrCode_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblAtrCode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransCode" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@OriginalTransCode" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@TransName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@DbAccid" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@CrAccid" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Accid1" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Accid2" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Accid3" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault=""/>
				<parameter name="@Pcommand" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Form" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Voucher" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Fvoucher" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Nov" type="numeric" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault=""/>
				<parameter name="@TrType" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblAtrCode]
				SET
					[trans_code] = @TransCode
					,[trans_name] = @TransName
					,[status] = @Status
					,[db_accid] = @DbAccid
					,[cr_accid] = @CrAccid
					,[accid1] = @Accid1
					,[accid2] = @Accid2
					,[accid3] = @Accid3
					,[pcommand] = @Pcommand
					,[form] = @Form
					,[voucher] = @Voucher
					,[fvoucher] = @Fvoucher
					,[nov] = @Nov
					,[tr_type] = @TrType
				WHERE
[trans_code] = @OriginalTransCode 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAtrCode_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblAtrCode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransCode" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblAtrCode] WITH (ROWLOCK) 
				WHERE
					[trans_code] = @TransCode
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblAtrCode_GetByTransCode" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblAtrCode table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransCode" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[trans_code],
					[trans_name],
					[status],
					[db_accid],
					[cr_accid],
					[accid1],
					[accid2],
					[accid3],
					[pcommand],
					[form],
					[voucher],
					[fvoucher],
					[nov],
					[tr_type]
				FROM
					[dbo].[tblAtrCode]
				WHERE
					[trans_code] = @TransCode
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblAtrCode_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblAtrCode table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@TransCode" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@TransName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@DbAccid" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault="null"/>
				<parameter name="@CrAccid" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault="null"/>
				<parameter name="@Accid1" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault="null"/>
				<parameter name="@Accid2" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault="null"/>
				<parameter name="@Accid3" type="nvarchar" direction="Input" size="9" precision="0" scale="0" param="(9)" nulldefault="null"/>
				<parameter name="@Pcommand" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Form" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@Voucher" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@Fvoucher" type="nvarchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@Nov" type="numeric" direction="Input" size="5" precision="3" scale="0" param="(3, 0)" nulldefault="null"/>
				<parameter name="@TrType" type="nvarchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [trans_code]
	, [trans_name]
	, [status]
	, [db_accid]
	, [cr_accid]
	, [accid1]
	, [accid2]
	, [accid3]
	, [pcommand]
	, [form]
	, [voucher]
	, [fvoucher]
	, [nov]
	, [tr_type]
    FROM
	[dbo].[tblAtrCode]
    WHERE 
	 ([trans_code] = @TransCode OR @TransCode IS NULL)
	AND ([trans_name] = @TransName OR @TransName IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
	AND ([db_accid] = @DbAccid OR @DbAccid IS NULL)
	AND ([cr_accid] = @CrAccid OR @CrAccid IS NULL)
	AND ([accid1] = @Accid1 OR @Accid1 IS NULL)
	AND ([accid2] = @Accid2 OR @Accid2 IS NULL)
	AND ([accid3] = @Accid3 OR @Accid3 IS NULL)
	AND ([pcommand] = @Pcommand OR @Pcommand IS NULL)
	AND ([form] = @Form OR @Form IS NULL)
	AND ([voucher] = @Voucher OR @Voucher IS NULL)
	AND ([fvoucher] = @Fvoucher OR @Fvoucher IS NULL)
	AND ([nov] = @Nov OR @Nov IS NULL)
	AND ([tr_type] = @TrType OR @TrType IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [trans_code]
	, [trans_name]
	, [status]
	, [db_accid]
	, [cr_accid]
	, [accid1]
	, [accid2]
	, [accid3]
	, [pcommand]
	, [form]
	, [voucher]
	, [fvoucher]
	, [nov]
	, [tr_type]
    FROM
	[dbo].[tblAtrCode]
    WHERE 
	 ([trans_code] = @TransCode AND @TransCode is not null)
	OR ([trans_name] = @TransName AND @TransName is not null)
	OR ([status] = @Status AND @Status is not null)
	OR ([db_accid] = @DbAccid AND @DbAccid is not null)
	OR ([cr_accid] = @CrAccid AND @CrAccid is not null)
	OR ([accid1] = @Accid1 AND @Accid1 is not null)
	OR ([accid2] = @Accid2 AND @Accid2 is not null)
	OR ([accid3] = @Accid3 AND @Accid3 is not null)
	OR ([pcommand] = @Pcommand AND @Pcommand is not null)
	OR ([form] = @Form AND @Form is not null)
	OR ([voucher] = @Voucher AND @Voucher is not null)
	OR ([fvoucher] = @Fvoucher AND @Fvoucher is not null)
	OR ([nov] = @Nov AND @Nov is not null)
	OR ([tr_type] = @TrType AND @TrType is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblAtrCode_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblAtrCode table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_code] nvarchar(2)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [trans_code] )
				SELECT TOP {3} [trans_code]
				FROM [dbo].[tblAtrCode] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[trans_code], O.[trans_name], O.[status], O.[db_accid], O.[cr_accid], O.[accid1], O.[accid2], O.[accid3], O.[pcommand], O.[form], O.[voucher], O.[fvoucher], O.[nov], O.[tr_type]
				FROM
				    [dbo].[tblAtrCode] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[trans_code] = PageIndex.[trans_code]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblAtrCode] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblDate_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblDate table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[org_date],
					[Complete]
				FROM
					[dbo].[tblDate]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblDate_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblDate table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] int 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblDate]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[org_date], O.[Complete]
				FROM
				    [dbo].[tblDate] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblDate]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblDate_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblDate table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@OrgDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Complete" type="nvarchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblDate]
					(
					[id]
					,[org_date]
					,[Complete]
					)
				VALUES
					(
					@Id
					,@OrgDate
					,@Complete
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblDate_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblDate table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@OriginalId" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
				<parameter name="@OrgDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Complete" type="nvarchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblDate]
				SET
					[id] = @Id
					,[org_date] = @OrgDate
					,[Complete] = @Complete
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblDate_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblDate table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblDate] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblDate_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblDate table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[org_date],
					[Complete]
				FROM
					[dbo].[tblDate]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblDate_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblDate table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="int" direction="Input" size="4" precision="10" scale="0" param="" nulldefault="null"/>
				<parameter name="@OrgDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Complete" type="nvarchar" direction="Input" size="1" precision="0" scale="0" param="(1)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [org_date]
	, [Complete]
    FROM
	[dbo].[tblDate]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([org_date] = @OrgDate OR @OrgDate IS NULL)
	AND ([Complete] = @Complete OR @Complete IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [org_date]
	, [Complete]
    FROM
	[dbo].[tblDate]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([org_date] = @OrgDate AND @OrgDate is not null)
	OR ([Complete] = @Complete AND @Complete is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblDate_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblDate table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] int 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblDate] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[org_date], O.[Complete]
				FROM
				    [dbo].[tblDate] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblDate] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblBarcode_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblBarcode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[barcode],
					[goods_id]
				FROM
					[dbo].[tblBarcode]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblBarcode_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblBarcode table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [barcode] varchar(20)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([barcode])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [barcode]'
				SET @SQL = @SQL + ' FROM [dbo].[tblBarcode]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[barcode], O.[goods_id]
				FROM
				    [dbo].[tblBarcode] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[barcode] = PageIndex.[barcode]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblBarcode]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblBarcode_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblBarcode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Barcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblBarcode]
					(
					[barcode]
					,[goods_id]
					)
				VALUES
					(
					@Barcode
					,@GoodsId
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblBarcode_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblBarcode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Barcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@OriginalBarcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblBarcode]
				SET
					[barcode] = @Barcode
					,[goods_id] = @GoodsId
				WHERE
[barcode] = @OriginalBarcode 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblBarcode_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblBarcode table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Barcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblBarcode] WITH (ROWLOCK) 
				WHERE
					[barcode] = @Barcode
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblBarcode_GetByBarcode" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblBarcode table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Barcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[barcode],
					[goods_id]
				FROM
					[dbo].[tblBarcode]
				WHERE
					[barcode] = @Barcode
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblBarcode_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblBarcode table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Barcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [barcode]
	, [goods_id]
    FROM
	[dbo].[tblBarcode]
    WHERE 
	 ([barcode] = @Barcode OR @Barcode IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [barcode]
	, [goods_id]
    FROM
	[dbo].[tblBarcode]
    WHERE 
	 ([barcode] = @Barcode AND @Barcode is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblBarcode_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblBarcode table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [barcode] varchar(20)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [barcode] )
				SELECT TOP {3} [barcode]
				FROM [dbo].[tblBarcode] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[barcode], O.[goods_id]
				FROM
				    [dbo].[tblBarcode] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[barcode] = PageIndex.[barcode]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblBarcode] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblLanguage_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblLanguage table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[description],
					[status]
				FROM
					[dbo].[tblLanguage]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblLanguage_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblLanguage table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblLanguage]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[description], O.[status]
				FROM
				    [dbo].[tblLanguage] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblLanguage]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblLanguage_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblLanguage table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblLanguage]
					(
					[id]
					,[description]
					,[status]
					)
				VALUES
					(
					@Id
					,@Description
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLanguage_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblLanguage table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@OriginalId" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblLanguage]
				SET
					[id] = @Id
					,[description] = @Description
					,[status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLanguage_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblLanguage table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblLanguage] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLanguage_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblLanguage table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[description],
					[status]
				FROM
					[dbo].[tblLanguage]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblLanguage_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblLanguage table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [description]
	, [status]
    FROM
	[dbo].[tblLanguage]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([description] = @Description OR @Description IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [description]
	, [status]
    FROM
	[dbo].[tblLanguage]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([description] = @Description AND @Description is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblLanguage_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblLanguage table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblLanguage] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[description], O.[status]
				FROM
				    [dbo].[tblLanguage] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblLanguage] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblFiles_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblFiles table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[filename],
					[version],
					[filebinary],
					[last_date]
				FROM
					[dbo].[tblFiles]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblFiles_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblFiles table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblFiles]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[filename], O.[version], O.[filebinary], O.[last_date]
				FROM
				    [dbo].[tblFiles] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblFiles]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblFiles_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblFiles table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Output" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Filename" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Version" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Filebinary" type="varbinary" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblFiles]
					(
					[filename]
					,[version]
					,[filebinary]
					,[last_date]
					)
				VALUES
					(
					@Filename
					,@Version
					,@Filebinary
					,@LastDate
					)
				-- Get the identity value
				SET @Id = SCOPE_IDENTITY()
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblFiles_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblFiles table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Filename" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Version" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Filebinary" type="varbinary" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblFiles]
				SET
					[filename] = @Filename
					,[version] = @Version
					,[filebinary] = @Filebinary
					,[last_date] = @LastDate
				WHERE
[id] = @Id 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblFiles_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblFiles table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblFiles] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblFiles_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblFiles table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[filename],
					[version],
					[filebinary],
					[last_date]
				FROM
					[dbo].[tblFiles]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblFiles_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblFiles table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@Filename" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Version" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Filebinary" type="varbinary" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@LastDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [filename]
	, [version]
	, [filebinary]
	, [last_date]
    FROM
	[dbo].[tblFiles]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([filename] = @Filename OR @Filename IS NULL)
	AND ([version] = @Version OR @Version IS NULL)
	AND ([last_date] = @LastDate OR @LastDate IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [filename]
	, [version]
	, [filebinary]
	, [last_date]
    FROM
	[dbo].[tblFiles]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([filename] = @Filename AND @Filename is not null)
	OR ([version] = @Version AND @Version is not null)
	OR ([last_date] = @LastDate AND @LastDate is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblFiles_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblFiles table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblFiles] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[filename], O.[version], O.[filebinary], O.[last_date]
				FROM
				    [dbo].[tblFiles] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblFiles] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblLoanTran_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblLoanTran table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[trans_num],
					[tran_date],
					[trans_code],
					[tran_time],
					[exp_id],
					[cs_id],
					[goods_id],
					[qty],
					[due_date],
					[user_id],
					[corr_tran],
					[remark],
					[status]
				FROM
					[dbo].[tblLoanTran]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblLoanTran_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblLoanTran table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_num] nchar(12) , [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([trans_num], [goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [trans_num], [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblLoanTran]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[trans_num], O.[tran_date], O.[trans_code], O.[tran_time], O.[exp_id], O.[cs_id], O.[goods_id], O.[qty], O.[due_date], O.[user_id], O.[corr_tran], O.[remark], O.[status]
				FROM
				    [dbo].[tblLoanTran] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[trans_num] = PageIndex.[trans_num]
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblLoanTran]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblLoanTran_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblLoanTran table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TransCode" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@TranTime" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@ExpId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@CsId" type="nchar" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Qty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@UserId" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@CorrTran" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblLoanTran]
					(
					[trans_num]
					,[tran_date]
					,[trans_code]
					,[tran_time]
					,[exp_id]
					,[cs_id]
					,[goods_id]
					,[qty]
					,[due_date]
					,[user_id]
					,[corr_tran]
					,[remark]
					,[status]
					)
				VALUES
					(
					@TransNum
					,@TranDate
					,@TransCode
					,@TranTime
					,@ExpId
					,@CsId
					,@GoodsId
					,@Qty
					,@DueDate
					,@UserId
					,@CorrTran
					,@Remark
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLoanTran_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblLoanTran table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@OriginalTransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TransCode" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@TranTime" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@ExpId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@CsId" type="nchar" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Qty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@UserId" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@CorrTran" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblLoanTran]
				SET
					[trans_num] = @TransNum
					,[tran_date] = @TranDate
					,[trans_code] = @TransCode
					,[tran_time] = @TranTime
					,[exp_id] = @ExpId
					,[cs_id] = @CsId
					,[goods_id] = @GoodsId
					,[qty] = @Qty
					,[due_date] = @DueDate
					,[user_id] = @UserId
					,[corr_tran] = @CorrTran
					,[remark] = @Remark
					,[status] = @Status
				WHERE
[trans_num] = @OriginalTransNum 
AND [goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLoanTran_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblLoanTran table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblLoanTran] WITH (ROWLOCK) 
				WHERE
					[trans_num] = @TransNum
					AND [goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLoanTran_GetByTransNumGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblLoanTran table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[trans_num],
					[tran_date],
					[trans_code],
					[tran_time],
					[exp_id],
					[cs_id],
					[goods_id],
					[qty],
					[due_date],
					[user_id],
					[corr_tran],
					[remark],
					[status]
				FROM
					[dbo].[tblLoanTran]
				WHERE
					[trans_num] = @TransNum
					AND [goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblLoanTran_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblLoanTran table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@TransNum" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault="null"/>
				<parameter name="@TranDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@TransCode" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@TranTime" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@ExpId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@CsId" type="nchar" direction="Input" size="8" precision="0" scale="0" param="(8)" nulldefault="null"/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Qty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@DueDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@UserId" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@CorrTran" type="nchar" direction="Input" size="12" precision="0" scale="0" param="(12)" nulldefault="null"/>
				<parameter name="@Remark" type="nvarchar" direction="Input" size="300" precision="0" scale="0" param="(300)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [trans_num]
	, [tran_date]
	, [trans_code]
	, [tran_time]
	, [exp_id]
	, [cs_id]
	, [goods_id]
	, [qty]
	, [due_date]
	, [user_id]
	, [corr_tran]
	, [remark]
	, [status]
    FROM
	[dbo].[tblLoanTran]
    WHERE 
	 ([trans_num] = @TransNum OR @TransNum IS NULL)
	AND ([tran_date] = @TranDate OR @TranDate IS NULL)
	AND ([trans_code] = @TransCode OR @TransCode IS NULL)
	AND ([tran_time] = @TranTime OR @TranTime IS NULL)
	AND ([exp_id] = @ExpId OR @ExpId IS NULL)
	AND ([cs_id] = @CsId OR @CsId IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([qty] = @Qty OR @Qty IS NULL)
	AND ([due_date] = @DueDate OR @DueDate IS NULL)
	AND ([user_id] = @UserId OR @UserId IS NULL)
	AND ([corr_tran] = @CorrTran OR @CorrTran IS NULL)
	AND ([remark] = @Remark OR @Remark IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [trans_num]
	, [tran_date]
	, [trans_code]
	, [tran_time]
	, [exp_id]
	, [cs_id]
	, [goods_id]
	, [qty]
	, [due_date]
	, [user_id]
	, [corr_tran]
	, [remark]
	, [status]
    FROM
	[dbo].[tblLoanTran]
    WHERE 
	 ([trans_num] = @TransNum AND @TransNum is not null)
	OR ([tran_date] = @TranDate AND @TranDate is not null)
	OR ([trans_code] = @TransCode AND @TransCode is not null)
	OR ([tran_time] = @TranTime AND @TranTime is not null)
	OR ([exp_id] = @ExpId AND @ExpId is not null)
	OR ([cs_id] = @CsId AND @CsId is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([qty] = @Qty AND @Qty is not null)
	OR ([due_date] = @DueDate AND @DueDate is not null)
	OR ([user_id] = @UserId AND @UserId is not null)
	OR ([corr_tran] = @CorrTran AND @CorrTran is not null)
	OR ([remark] = @Remark AND @Remark is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblLoanTran_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblLoanTran table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [trans_num] nchar(12) , [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [trans_num], [goods_id] )
				SELECT TOP {3} [trans_num], [goods_id]
				FROM [dbo].[tblLoanTran] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[trans_num], O.[tran_date], O.[trans_code], O.[tran_time], O.[exp_id], O.[cs_id], O.[goods_id], O.[qty], O.[due_date], O.[user_id], O.[corr_tran], O.[remark], O.[status]
				FROM
				    [dbo].[tblLoanTran] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[trans_num] = PageIndex.[trans_num]
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblLoanTran] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblKit_info_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblKit_info table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[kit_id],
					[goods_id],
					[qty]
				FROM
					[dbo].[tblKit_info]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblKit_info_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblKit_info table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [kit_id] nchar(7) , [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([kit_id], [goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [kit_id], [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblKit_info]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[kit_id], O.[goods_id], O.[qty]
				FROM
				    [dbo].[tblKit_info] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[kit_id] = PageIndex.[kit_id]
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblKit_info]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblKit_info_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblKit_info table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@KitId" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Qty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblKit_info]
					(
					[kit_id]
					,[goods_id]
					,[qty]
					)
				VALUES
					(
					@KitId
					,@GoodsId
					,@Qty
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblKit_info_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblKit_info table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@KitId" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
				<parameter name="@OriginalKitId" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Qty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblKit_info]
				SET
					[kit_id] = @KitId
					,[goods_id] = @GoodsId
					,[qty] = @Qty
				WHERE
[kit_id] = @OriginalKitId 
AND [goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblKit_info_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblKit_info table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@KitId" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblKit_info] WITH (ROWLOCK) 
				WHERE
					[kit_id] = @KitId
					AND [goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblKit_info_GetByKitIdGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblKit_info table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@KitId" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault=""/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[kit_id],
					[goods_id],
					[qty]
				FROM
					[dbo].[tblKit_info]
				WHERE
					[kit_id] = @KitId
					AND [goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblKit_info_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblKit_info table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@KitId" type="nchar" direction="Input" size="7" precision="0" scale="0" param="(7)" nulldefault="null"/>
				<parameter name="@GoodsId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Qty" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [kit_id]
	, [goods_id]
	, [qty]
    FROM
	[dbo].[tblKit_info]
    WHERE 
	 ([kit_id] = @KitId OR @KitId IS NULL)
	AND ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([qty] = @Qty OR @Qty IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [kit_id]
	, [goods_id]
	, [qty]
    FROM
	[dbo].[tblKit_info]
    WHERE 
	 ([kit_id] = @KitId AND @KitId is not null)
	OR ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([qty] = @Qty AND @Qty is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblKit_info_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblKit_info table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [kit_id] nchar(7) , [goods_id] nchar(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [kit_id], [goods_id] )
				SELECT TOP {3} [kit_id], [goods_id]
				FROM [dbo].[tblKit_info] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[kit_id], O.[goods_id], O.[qty]
				FROM
				    [dbo].[tblKit_info] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[kit_id] = PageIndex.[kit_id]
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblKit_info] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblLocation_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblLocation table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[stk_id],
					[loc_id],
					[description],
					[status]
				FROM
					[dbo].[tblLocation]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblLocation_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblLocation table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [stk_id] nchar(5) , [loc_id] nchar(4)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([stk_id], [loc_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [stk_id], [loc_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblLocation]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[stk_id], O.[loc_id], O.[description], O.[status]
				FROM
				    [dbo].[tblLocation] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[stk_id] = PageIndex.[stk_id]
					AND O.[loc_id] = PageIndex.[loc_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblLocation]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblLocation_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblLocation table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@StkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@LocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblLocation]
					(
					[stk_id]
					,[loc_id]
					,[description]
					,[status]
					)
				VALUES
					(
					@StkId
					,@LocId
					,@Description
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLocation_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblLocation table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@StkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@OriginalStkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@LocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@OriginalLocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblLocation]
				SET
					[stk_id] = @StkId
					,[loc_id] = @LocId
					,[description] = @Description
					,[status] = @Status
				WHERE
[stk_id] = @OriginalStkId 
AND [loc_id] = @OriginalLocId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLocation_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblLocation table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@StkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@LocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblLocation] WITH (ROWLOCK) 
				WHERE
					[stk_id] = @StkId
					AND [loc_id] = @LocId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblLocation_GetByStkIdLocId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblLocation table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@StkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@LocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[stk_id],
					[loc_id],
					[description],
					[status]
				FROM
					[dbo].[tblLocation]
				WHERE
					[stk_id] = @StkId
					AND [loc_id] = @LocId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblLocation_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblLocation table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@StkId" type="nchar" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@LocId" type="nchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [stk_id]
	, [loc_id]
	, [description]
	, [status]
    FROM
	[dbo].[tblLocation]
    WHERE 
	 ([stk_id] = @StkId OR @StkId IS NULL)
	AND ([loc_id] = @LocId OR @LocId IS NULL)
	AND ([description] = @Description OR @Description IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [stk_id]
	, [loc_id]
	, [description]
	, [status]
    FROM
	[dbo].[tblLocation]
    WHERE 
	 ([stk_id] = @StkId AND @StkId is not null)
	OR ([loc_id] = @LocId AND @LocId is not null)
	OR ([description] = @Description AND @Description is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblLocation_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblLocation table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [stk_id] nchar(5) , [loc_id] nchar(4)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [stk_id], [loc_id] )
				SELECT TOP {3} [stk_id], [loc_id]
				FROM [dbo].[tblLocation] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[stk_id], O.[loc_id], O.[description], O.[status]
				FROM
				    [dbo].[tblLocation] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[stk_id] = PageIndex.[stk_id]
				    AND O.[loc_id] = PageIndex.[loc_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblLocation] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblFrmType_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblFrmType table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[description],
					[status]
				FROM
					[dbo].[tblFrmType]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblFrmType_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblFrmType table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblFrmType]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[description], O.[status]
				FROM
				    [dbo].[tblFrmType] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblFrmType]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblFrmType_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblFrmType table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblFrmType]
					(
					[id]
					,[description]
					,[status]
					)
				VALUES
					(
					@Id
					,@Description
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblFrmType_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblFrmType table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@OriginalId" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblFrmType]
				SET
					[id] = @Id
					,[description] = @Description
					,[status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblFrmType_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblFrmType table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblFrmType] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblFrmType_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblFrmType table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[description],
					[status]
				FROM
					[dbo].[tblFrmType]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblFrmType_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblFrmType table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="numeric" direction="Input" size="9" precision="18" scale="0" param="(18, 0)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [description]
	, [status]
    FROM
	[dbo].[tblFrmType]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([description] = @Description OR @Description IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [description]
	, [status]
    FROM
	[dbo].[tblFrmType]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([description] = @Description AND @Description is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblFrmType_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblFrmType table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] numeric(18, 0) 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblFrmType] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[description], O.[status]
				FROM
				    [dbo].[tblFrmType] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblFrmType] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblKit_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblKit table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[description],
					[unitsymb],
					[rtprice],
					[open_date],
					[status]
				FROM
					[dbo].[tblKit]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblKit_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblKit table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] nchar(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblKit]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[description], O.[unitsymb], O.[rtprice], O.[open_date], O.[status]
				FROM
				    [dbo].[tblKit] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblKit]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblKit_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblKit table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Unitsymb" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Rtprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblKit]
					(
					[id]
					,[description]
					,[unitsymb]
					,[rtprice]
					,[open_date]
					,[status]
					)
				VALUES
					(
					@Id
					,@Description
					,@Unitsymb
					,@Rtprice
					,@OpenDate
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblKit_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblKit table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalId" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Unitsymb" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Rtprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblKit]
				SET
					[id] = @Id
					,[description] = @Description
					,[unitsymb] = @Unitsymb
					,[rtprice] = @Rtprice
					,[open_date] = @OpenDate
					,[status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblKit_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblKit table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblKit] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblKit_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblKit table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[description],
					[unitsymb],
					[rtprice],
					[open_date],
					[status]
				FROM
					[dbo].[tblKit]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblKit_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblKit table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="nchar" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Unitsymb" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@Rtprice" type="numeric" direction="Input" size="9" precision="18" scale="2" param="(18, 2)" nulldefault="null"/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [description]
	, [unitsymb]
	, [rtprice]
	, [open_date]
	, [status]
    FROM
	[dbo].[tblKit]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([description] = @Description OR @Description IS NULL)
	AND ([unitsymb] = @Unitsymb OR @Unitsymb IS NULL)
	AND ([rtprice] = @Rtprice OR @Rtprice IS NULL)
	AND ([open_date] = @OpenDate OR @OpenDate IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [description]
	, [unitsymb]
	, [rtprice]
	, [open_date]
	, [status]
    FROM
	[dbo].[tblKit]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([description] = @Description AND @Description is not null)
	OR ([unitsymb] = @Unitsymb AND @Unitsymb is not null)
	OR ([rtprice] = @Rtprice AND @Rtprice is not null)
	OR ([open_date] = @OpenDate AND @OpenDate is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblKit_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblKit table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] nchar(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblKit] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[description], O.[unitsymb], O.[rtprice], O.[open_date], O.[status]
				FROM
				    [dbo].[tblKit] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblKit] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblGoods_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblGoods table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[goods_id],
					[barcode],
					[mbc],
					[ref],
					[grp_id],
					[short_name],
					[full_name],
					[packunit],
					[piceunit],
					[unitconv],
					[supp_id],
					[image],
					[open_date],
					[tax_code],
					[merc_type],
					[attr_type],
					[domestic],
					[warranty],
					[status]
				FROM
					[dbo].[tblGoods]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblGoods_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblGoods table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [goods_id] char(6)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([goods_id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [goods_id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblGoods]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[goods_id], O.[barcode], O.[mbc], O.[ref], O.[grp_id], O.[short_name], O.[full_name], O.[packunit], O.[piceunit], O.[unitconv], O.[supp_id], O.[image], O.[open_date], O.[tax_code], O.[merc_type], O.[attr_type], O.[domestic], O.[warranty], O.[status]
				FROM
				    [dbo].[tblGoods] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblGoods]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblGoods_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblGoods table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Barcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Mbc" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@SafeNameRef" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@GrpId" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@ShortName" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Packunit" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Piceunit" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Unitconv" type="decimal" direction="Input" size="5" precision="4" scale="0" param="(4, 0)" nulldefault=""/>
				<parameter name="@SuppId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TaxCode" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@MercType" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@AttrType" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Domestic" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Warranty" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblGoods]
					(
					[goods_id]
					,[barcode]
					,[mbc]
					,[ref]
					,[grp_id]
					,[short_name]
					,[full_name]
					,[packunit]
					,[piceunit]
					,[unitconv]
					,[supp_id]
					,[image]
					,[open_date]
					,[tax_code]
					,[merc_type]
					,[attr_type]
					,[domestic]
					,[warranty]
					,[status]
					)
				VALUES
					(
					@GoodsId
					,@Barcode
					,@Mbc
					,@SafeNameRef
					,@GrpId
					,@ShortName
					,@FullName
					,@Packunit
					,@Piceunit
					,@Unitconv
					,@SuppId
					,@Image
					,@OpenDate
					,@TaxCode
					,@MercType
					,@AttrType
					,@Domestic
					,@Warranty
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblGoods_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblGoods table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@OriginalGoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
				<parameter name="@Barcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault=""/>
				<parameter name="@Mbc" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@SafeNameRef" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault=""/>
				<parameter name="@GrpId" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@ShortName" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault=""/>
				<parameter name="@Packunit" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Piceunit" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@Unitconv" type="decimal" direction="Input" size="5" precision="4" scale="0" param="(4, 0)" nulldefault=""/>
				<parameter name="@SuppId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault=""/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault=""/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault=""/>
				<parameter name="@TaxCode" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault=""/>
				<parameter name="@MercType" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@AttrType" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault=""/>
				<parameter name="@Domestic" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Warranty" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblGoods]
				SET
					[goods_id] = @GoodsId
					,[barcode] = @Barcode
					,[mbc] = @Mbc
					,[ref] = @SafeNameRef
					,[grp_id] = @GrpId
					,[short_name] = @ShortName
					,[full_name] = @FullName
					,[packunit] = @Packunit
					,[piceunit] = @Piceunit
					,[unitconv] = @Unitconv
					,[supp_id] = @SuppId
					,[image] = @Image
					,[open_date] = @OpenDate
					,[tax_code] = @TaxCode
					,[merc_type] = @MercType
					,[attr_type] = @AttrType
					,[domestic] = @Domestic
					,[warranty] = @Warranty
					,[status] = @Status
				WHERE
[goods_id] = @OriginalGoodsId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblGoods_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblGoods table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblGoods] WITH (ROWLOCK) 
				WHERE
					[goods_id] = @GoodsId
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblGoods_GetByGoodsId" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblGoods table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[goods_id],
					[barcode],
					[mbc],
					[ref],
					[grp_id],
					[short_name],
					[full_name],
					[packunit],
					[piceunit],
					[unitconv],
					[supp_id],
					[image],
					[open_date],
					[tax_code],
					[merc_type],
					[attr_type],
					[domestic],
					[warranty],
					[status]
				FROM
					[dbo].[tblGoods]
				WHERE
					[goods_id] = @GoodsId
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblGoods_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblGoods table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@GoodsId" type="char" direction="Input" size="6" precision="0" scale="0" param="(6)" nulldefault="null"/>
				<parameter name="@Barcode" type="varchar" direction="Input" size="20" precision="0" scale="0" param="(20)" nulldefault="null"/>
				<parameter name="@Mbc" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@SafeNameRef" type="nchar" direction="Input" size="10" precision="0" scale="0" param="(10)" nulldefault="null"/>
				<parameter name="@GrpId" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@ShortName" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@FullName" type="nvarchar" direction="Input" size="200" precision="0" scale="0" param="(200)" nulldefault="null"/>
				<parameter name="@Packunit" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@Piceunit" type="char" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@Unitconv" type="decimal" direction="Input" size="5" precision="4" scale="0" param="(4, 0)" nulldefault="null"/>
				<parameter name="@SuppId" type="char" direction="Input" size="5" precision="0" scale="0" param="(5)" nulldefault="null"/>
				<parameter name="@Image" type="image" direction="Input" size="16" precision="0" scale="0" param="" nulldefault="null"/>
				<parameter name="@OpenDate" type="datetime" direction="Input" size="8" precision="23" scale="3" param="" nulldefault="null"/>
				<parameter name="@TaxCode" type="nchar" direction="Input" size="3" precision="0" scale="0" param="(3)" nulldefault="null"/>
				<parameter name="@MercType" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@AttrType" type="nchar" direction="Input" size="2" precision="0" scale="0" param="(2)" nulldefault="null"/>
				<parameter name="@Domestic" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Warranty" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [goods_id]
	, [barcode]
	, [mbc]
	, [ref]
	, [grp_id]
	, [short_name]
	, [full_name]
	, [packunit]
	, [piceunit]
	, [unitconv]
	, [supp_id]
	, [image]
	, [open_date]
	, [tax_code]
	, [merc_type]
	, [attr_type]
	, [domestic]
	, [warranty]
	, [status]
    FROM
	[dbo].[tblGoods]
    WHERE 
	 ([goods_id] = @GoodsId OR @GoodsId IS NULL)
	AND ([barcode] = @Barcode OR @Barcode IS NULL)
	AND ([mbc] = @Mbc OR @Mbc IS NULL)
	AND ([ref] = @SafeNameRef OR @SafeNameRef IS NULL)
	AND ([grp_id] = @GrpId OR @GrpId IS NULL)
	AND ([short_name] = @ShortName OR @ShortName IS NULL)
	AND ([full_name] = @FullName OR @FullName IS NULL)
	AND ([packunit] = @Packunit OR @Packunit IS NULL)
	AND ([piceunit] = @Piceunit OR @Piceunit IS NULL)
	AND ([unitconv] = @Unitconv OR @Unitconv IS NULL)
	AND ([supp_id] = @SuppId OR @SuppId IS NULL)
	AND ([open_date] = @OpenDate OR @OpenDate IS NULL)
	AND ([tax_code] = @TaxCode OR @TaxCode IS NULL)
	AND ([merc_type] = @MercType OR @MercType IS NULL)
	AND ([attr_type] = @AttrType OR @AttrType IS NULL)
	AND ([domestic] = @Domestic OR @Domestic IS NULL)
	AND ([warranty] = @Warranty OR @Warranty IS NULL)
	AND ([status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [goods_id]
	, [barcode]
	, [mbc]
	, [ref]
	, [grp_id]
	, [short_name]
	, [full_name]
	, [packunit]
	, [piceunit]
	, [unitconv]
	, [supp_id]
	, [image]
	, [open_date]
	, [tax_code]
	, [merc_type]
	, [attr_type]
	, [domestic]
	, [warranty]
	, [status]
    FROM
	[dbo].[tblGoods]
    WHERE 
	 ([goods_id] = @GoodsId AND @GoodsId is not null)
	OR ([barcode] = @Barcode AND @Barcode is not null)
	OR ([mbc] = @Mbc AND @Mbc is not null)
	OR ([ref] = @SafeNameRef AND @SafeNameRef is not null)
	OR ([grp_id] = @GrpId AND @GrpId is not null)
	OR ([short_name] = @ShortName AND @ShortName is not null)
	OR ([full_name] = @FullName AND @FullName is not null)
	OR ([packunit] = @Packunit AND @Packunit is not null)
	OR ([piceunit] = @Piceunit AND @Piceunit is not null)
	OR ([unitconv] = @Unitconv AND @Unitconv is not null)
	OR ([supp_id] = @SuppId AND @SuppId is not null)
	OR ([open_date] = @OpenDate AND @OpenDate is not null)
	OR ([tax_code] = @TaxCode AND @TaxCode is not null)
	OR ([merc_type] = @MercType AND @MercType is not null)
	OR ([attr_type] = @AttrType AND @AttrType is not null)
	OR ([domestic] = @Domestic AND @Domestic is not null)
	OR ([warranty] = @Warranty AND @Warranty is not null)
	OR ([status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblGoods_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblGoods table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [goods_id] char(6)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [goods_id] )
				SELECT TOP {3} [goods_id]
				FROM [dbo].[tblGoods] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[goods_id], O.[barcode], O.[mbc], O.[ref], O.[grp_id], O.[short_name], O.[full_name], O.[packunit], O.[piceunit], O.[unitconv], O.[supp_id], O.[image], O.[open_date], O.[tax_code], O.[merc_type], O.[attr_type], O.[domestic], O.[warranty], O.[status]
				FROM
				    [dbo].[tblGoods] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[goods_id] = PageIndex.[goods_id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblGoods] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
				
		<procedure owner="dbo" name="usp_tblGoods_GetListBook"  skip="true">
			<comment><![CDATA[
/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblGoods table
----------------------------------------------------------------------------------------------------
*/


]]></comment>
			<parameters>
			</parameters>
			<body><![CDATA[
				
lang ON attr.language = lang.id

					
				SELECT @@ROWCOUNT
			


			]]></body>
					</procedure>
		
		<procedure owner="dbo" name="tblUtils_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblUtils table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[id],
					[name],
					[Description],
					[subname],
					[Status]
				FROM
					[dbo].[tblUtils]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblUtils_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblUtils table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] tinyint 
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblUtils]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[id], O.[name], O.[Description], O.[subname], O.[Status]
				FROM
				    [dbo].[tblUtils] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblUtils]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblUtils_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblUtils table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Subname" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblUtils]
					(
					[id]
					,[name]
					,[Description]
					,[subname]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Name
					,@Description
					,@Subname
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUtils_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblUtils table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
				<parameter name="@OriginalId" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault=""/>
				<parameter name="@Subname" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblUtils]
				SET
					[id] = @Id
					,[name] = @Name
					,[Description] = @Description
					,[subname] = @Subname
					,[Status] = @Status
				WHERE
[id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUtils_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblUtils table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblUtils] WITH (ROWLOCK) 
				WHERE
					[id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblUtils_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblUtils table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[id],
					[name],
					[Description],
					[subname],
					[Status]
				FROM
					[dbo].[tblUtils]
				WHERE
					[id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblUtils_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblUtils table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="tinyint" direction="Input" size="1" precision="3" scale="0" param="" nulldefault="null"/>
				<parameter name="@Name" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="-1" precision="0" scale="0" param="(MAX)" nulldefault="null"/>
				<parameter name="@Subname" type="nvarchar" direction="Input" size="50" precision="0" scale="0" param="(50)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [id]
	, [name]
	, [Description]
	, [subname]
	, [Status]
    FROM
	[dbo].[tblUtils]
    WHERE 
	 ([id] = @Id OR @Id IS NULL)
	AND ([name] = @Name OR @Name IS NULL)
	AND ([Description] = @Description OR @Description IS NULL)
	AND ([subname] = @Subname OR @Subname IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [id]
	, [name]
	, [Description]
	, [subname]
	, [Status]
    FROM
	[dbo].[tblUtils]
    WHERE 
	 ([id] = @Id AND @Id is not null)
	OR ([name] = @Name AND @Name is not null)
	OR ([Description] = @Description AND @Description is not null)
	OR ([subname] = @Subname AND @Subname is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblUtils_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblUtils table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [id] tinyint 
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [id] )
				SELECT TOP {3} [id]
				FROM [dbo].[tblUtils] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[id], O.[name], O.[Description], O.[subname], O.[Status]
				FROM
				    [dbo].[tblUtils] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[id] = PageIndex.[id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblUtils] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblGoodsGrp_Get_List" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets all records from the tblGoodsGrp table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				SELECT
					[Id],
					[Description],
					[Status]
				FROM
					[dbo].[tblGoodsGrp]
					
				SELECT @@ROWCOUNT
			]]></body>
		</procedure>
		
		
		<procedure owner="dbo" name="tblGoodsGrp_GetPaged" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblGoodsGrp table passing page index and page count parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@WhereClause" type="varchar" direction="Input" size="8000" precision="0" scale="0" param="(8000)" />
				<parameter name="@OrderBy" type="varchar" direction="Input" size="2000" precision="0" scale="0" param="(2000)"/>
				<parameter name="@PageIndex" type="int" direction="Input" size="0" precision="10" scale="0" />
				<parameter name="@PageSize" type="int" direction="Input" size="0" precision="10" scale="0" /> 
			</parameters>
			<body><![CDATA[
				
				BEGIN
				DECLARE @PageLowerBound int
				DECLARE @PageUpperBound int
				
				-- Set the page bounds
				SET @PageLowerBound = @PageSize * @PageIndex
				SET @PageUpperBound = @PageLowerBound + @PageSize

				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [Id] nvarchar(4)  
				)
				
				-- Insert into the temp table
				DECLARE @SQL AS nvarchar(4000)
				SET @SQL = 'INSERT INTO #PageIndex ([Id])'
				SET @SQL = @SQL + ' SELECT'
				SET @SQL = @SQL + ' [Id]'
				SET @SQL = @SQL + ' FROM [dbo].[tblGoodsGrp]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				IF LEN(@OrderBy) > 0
				BEGIN
					SET @SQL = @SQL + ' ORDER BY ' + @OrderBy
				END
				
				-- Only get the number of rows needed here.
				SET ROWCOUNT @PageUpperBound
				
				-- Populate the temp table
				EXEC sp_executesql @SQL

				-- Reset Rowcount back to all
				SET ROWCOUNT 0
				
				-- Return paged results
				SELECT O.[Id], O.[Description], O.[Status]
				FROM
				    [dbo].[tblGoodsGrp] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > @PageLowerBound
					AND O.[Id] = PageIndex.[Id]
				ORDER BY
				    PageIndex.IndexId
                
				-- get row count
				SET @SQL = 'SELECT COUNT(1) AS TotalRowCount'
				SET @SQL = @SQL + ' FROM [dbo].[tblGoodsGrp]'
				IF LEN(@WhereClause) > 0
				BEGIN
					SET @SQL = @SQL + ' WHERE ' + @WhereClause
				END
				EXEC sp_executesql @SQL
			
				END
			]]></body>
		</procedure>
		
		<procedure owner="dbo" name="tblGoodsGrp_Insert" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Inserts a record into the tblGoodsGrp table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nvarchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				INSERT INTO [dbo].[tblGoodsGrp]
					(
					[Id]
					,[Description]
					,[Status]
					)
				VALUES
					(
					@Id
					,@Description
					,@Status
					)
									
							
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblGoodsGrp_Update" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Updates a record in the tblGoodsGrp table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nvarchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@OriginalId" type="nvarchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault=""/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				
				
				-- Modify the updatable columns
				UPDATE
					[dbo].[tblGoodsGrp]
				SET
					[Id] = @Id
					,[Description] = @Description
					,[Status] = @Status
				WHERE
[Id] = @OriginalId 
				
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblGoodsGrp_Delete" grant="">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Deletes a record in the tblGoodsGrp table
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nvarchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				DELETE FROM [dbo].[tblGoodsGrp] WITH (ROWLOCK) 
				WHERE
					[Id] = @Id
					
			]]></body>
		</procedure>
		<procedure owner="dbo" name="tblGoodsGrp_GetById" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Select records from the tblGoodsGrp table through an index
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@Id" type="nvarchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault=""/>
			</parameters>
			<body><![CDATA[
				SELECT
					[Id],
					[Description],
					[Status]
				FROM
					[dbo].[tblGoodsGrp]
				WHERE
					[Id] = @Id
				SELECT @@ROWCOUNT
					
			]]></body>
			
		</procedure>
		<procedure owner="dbo" name="tblGoodsGrp_Find" >
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Finds records in the tblGoodsGrp table passing nullable parameters
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters>
				<parameter name="@SearchUsingOR" type="bit" direction="Input" size="0" precision="1" scale="0" param="" nulldefault="null"/>
				<parameter name="@Id" type="nvarchar" direction="Input" size="4" precision="0" scale="0" param="(4)" nulldefault="null"/>
				<parameter name="@Description" type="nvarchar" direction="Input" size="100" precision="0" scale="0" param="(100)" nulldefault="null"/>
				<parameter name="@Status" type="bit" direction="Input" size="1" precision="1" scale="0" param="" nulldefault="null"/>
			</parameters>
			<body><![CDATA[
				
  IF ISNULL(@SearchUsingOR, 0) <> 1
  BEGIN
    SELECT
	  [Id]
	, [Description]
	, [Status]
    FROM
	[dbo].[tblGoodsGrp]
    WHERE 
	 ([Id] = @Id OR @Id IS NULL)
	AND ([Description] = @Description OR @Description IS NULL)
	AND ([Status] = @Status OR @Status IS NULL)
						
  END
  ELSE
  BEGIN
    SELECT
	  [Id]
	, [Description]
	, [Status]
    FROM
	[dbo].[tblGoodsGrp]
    WHERE 
	 ([Id] = @Id AND @Id is not null)
	OR ([Description] = @Description AND @Description is not null)
	OR ([Status] = @Status AND @Status is not null)
	SELECT @@ROWCOUNT			
  END
				]]></body>
		</procedure>

		
		<procedure owner="dbo" name="tblGoodsGrp_Find_Dynamic"  skip="true">
			<comment><![CDATA[/*
----------------------------------------------------------------------------------------------------

-- Created By:  ()
-- Purpose: Gets records from the tblGoodsGrp table using a dynamically generated query.
----------------------------------------------------------------------------------------------------
*/
]]></comment>
			<parameters/>
			<body><![CDATA[
				
				BEGIN
				
				-- Create a temp table to store the select results
				CREATE TABLE #PageIndex
				(
				    [IndexId] int IDENTITY (1, 1) NOT NULL,
				    [Id] nvarchar(4)  
				)
				
				-- Insert into the temp table
				INSERT INTO #PageIndex ( [Id] )
				SELECT TOP {3} [Id]
				FROM [dbo].[tblGoodsGrp] {0}
				ORDER BY {1}
				
				-- Return paged results
				SELECT O.[Id], O.[Description], O.[Status]
				FROM
				    [dbo].[tblGoodsGrp] O,
				    #PageIndex PageIndex
				WHERE
				    PageIndex.IndexId > {2}
				    AND O.[Id] = PageIndex.[Id]
				ORDER BY
				    PageIndex.IndexId
				

				-- get total count
				SELECT COUNT(*) AS TotalRowCount FROM [dbo].[tblGoodsGrp] {0};
				
				DROP TABLE #PageIndex
				END
			]]></body>
		</procedure>
		
</procedures>
</root>
